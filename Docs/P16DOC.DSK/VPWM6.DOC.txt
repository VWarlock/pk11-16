
                   6. Оконный менеджер
                                                          12.10.90

     Оконный менеджер представляет собой процесс,  предназначенный 
для  управления  оконной  системой  с  клавиатуры.  Он   позволяет 
управлять   расположением   видов   на   экране,   их   размерами, 
приоритетами, а также просматривать и модифицировать палитры.
     Активация менеджера выполняется нажатием  на  клавишу  СБРОС. 
Менеджер  работает  в  режиме  меню.  После   активации   менеджер 
позволяет управлять  активным  видом,  т.е.  видом,  который  имел 
наивысший приоритер перед активацией менеджера.
     После активации менеджер "захватывает" клавиатуру: информация 
о нажимаемых  клавишах  поступает  в  регистр  с  адресом  177524, 
который обслуживается менеджером.
     Управление  менеджером  осуществляется  с  помощью  следующих 
клавиш:

←╝  ─   выполнить   выбранную   команду,   выбрать   режим    или 
переключиться на подменю (меню следующего, более низкого уровня);

АР2  ─ закончить действие команды,  режима  или  переключиться  на 
предыдущее  меню  (более  высокого   уровня);   завершить   работу 
менеджера, если работа с  ним  ведется  на  меню  первого  (самого 
высокого) уровня;

←,↓,↑,→     ─ перемещение по меню;

←,↓,↑,→ + УПР   ─ перемещение служебных видов менеджера по экрану.

     Перемещение по меню на нужную "метку" допускается не только с 
помощью стрелок, но и с  помощью  символов.  Например,  переход  к 
метке Area можно осуществить нажатием клавиши A.

     Меню верхнего уровня имеет следующие "метки":

Next  Back  Zoom X  Zoom Y  Viev  Area	Colors	Palette
│     │     │	    │	    │	  │	│	└─ работа с палитрами
│     │     │	    │	    │	  │	└─ работа с цветами
│     │     │	    │	    │	  └── работа с плоскостями
│     │     │	    │	    └─ работа с видами
│     │     │	    └─ масштабирование активного вида по вертикали
│     │     └─ масштабирование активного вида по горизонтали
│     └─ сделать наименее приоритетный вид активным
└─ сделать активный вид наименее приоритетным, а следующий вид ─
   активным

     Меню режима Zoom X:

X x 4 │
X x 2 ├─ позволяет масштабировать активный вид по горизонтали;
X x 1 │

     Меню режима Zoom Y:

Y x 4 │
Y x 2 ├─ позволяет масштабировать активный вид по вертикали;
Y x 1 │

     Меню режима Viev:

Move
     ─ включает режим перемещения активного вида по экрану;

Size
     ─ включает режим изменения  размеров  вида;  "стрелки"  пере─ 
       мещают  правую  и  нижнюю   границы   вида;   "стрелки"+УПР 
       перемещают левую и верхнюю границы вида;

Viev+1
     ─ по  данной  команде  создается  "дубль"  активного  вида  с 
       небольшим  смещением  вправо─вниз;  это   может   оказаться 
       полезным  для  последующего  масштабирования  нового  вида; 
       вновь созданный вид становится активным;

Kill
     ─ удаляет  активный  вид;  новым  активным  видом  становится 
       следующий по приоритету вид;

     Меню режима Area:

Move
     ─ включает режим перемещения плоскости в активном виде;

Lookup
     ─ по данной команде выполняется поиск первой (по  возрастанию 
       номера идентификатора) плоскости, для которой не существует 
       ни одного вида (т.е. плоскости, на которую  не  открыто  ни 
       одно  окно);  если  такая  плоскость  найдена,  то  на  ней 
       создается вид, который и становится активным;

Kill
     ─ удаляет плоскость, с которой связан активный вид; при  этом 
       будет удален  и  сам  активный  вид,  и  все  другие  виды, 
       связанные с удаленной плоскостью;

     Меню режима Colors:

Mode─1  # 0 1 2 3 4 5 6 7
Mode─2  # 0 1 2 3 4 5 6 7
Mode─40 # 0 1 2 3 4 5 6 7
Mode─41 # 0 1 2 3
Mode─8  # 0 1

     ─ позволяет выбрать для просмотраемодификации любую из палитр 
       любого из пяти режимов видео─контроллера; в данном режиме с 
       помощью "стрелок" можно просмотреть  интересующие  палитры; 
       при  этом  "содержимое"  палитр   высвечивается   слева   в 
       следующем окне (в зависимости от "цветности" режима):


┌────────────────┬──────────────┬───────────────┐
│      цвет	 │		│		│ режим 1 бит/точку
│    бордюра	 │		│		│ 2 цвета
└────────────────┴──────────────┴───────────────┘

┌────────┬─────────┬─────────┬─────────┬────────┐
│  цвет  │	   │	     │	       │	│ режим 2 бит/точку
│бордюра │	   │	     │	       │	│ 4 цвета
└────────┴─────────┴─────────┴─────────┴────────┘

┌───────────────────────────────────────────────┐
│						│ режим 4 бит/точку
│00 01 02 03 04 05 06 07 08 09 10 11 12 13 14 15│ 16 цветов
│						│
└───────────────────────────────────────────────┘


│						│
│						│
│16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31│
│						│
│						│
                .  .  .  .  .

       выбор палитры для модификации осуществляется  клавишей  ВК; 
       при этом слева на экране высветится следующее окно:

     ┌──────────────┐
     │	     ║	    │
     │	     ║	    │
     │ ║     ║	 │  │
     │ ║     ║	 ││ │
     │ ║     ║	│││ │
     │ ║  ║  ║	│││ │
     │ ║  ║  ║	│││ │
     │ ║  ║  ║	│││ │
     │ R  G  B	$%& │ ── область выбора регулируемого параметра
     └──────────────┘

     С помощью стрелок ←→ выбирается параметр, который	необходимо
подрегулировать ($, %, &, контрасность, цветность или яркость) для
конкретного цвета. Выбранный параметр регулируется стрелками ↓↑.

Примечание: текущий выбранный цвет выделяется мерцанием.  Мерцание 
будет отсутствовать для "чистой"  палитры,  в  которой  все  цвета 
одинаковы (имеют одинаковые значения по компонентам R, G и B.

     Меню режима Palette:

Mode─1  # 0 1 2 3 4 5 6 7
Mode─2  # 0 1 2 3 4 5 6 7
Mode─40 # 0 1 2 3 4 5 6 7
Mode─41 # 0 1 2 3
Mode─8  # 0 1

     ─ позволяет выбрать для просмотра/модификации любую из палитр
       любого из пяти режимов видео─контроллера; в данном режиме с 
       помощью "стрелок" можно просмотреть  интересующие  палитры; 
       данный  режим  имеет  много  общего   с	 режимом   Colors;
       единственное отличие заключается в том, что все регулировки 
       выполняются не с одним цветом, а для всей палитры вцелом.

	   15. ѕЪЮЭЭРп ЯЮФбШбвХЬРx0
							  12.10.90

     ѕЪЮЭЭРп  ЯЮФбШбвХЬР  ЮСХбЯХзШТРХв	бЮТЬХбвЭЮ  б   РЯЯРаРвгаЮЩ
ТШФХЮЪЮЭваЮЫЫХаР ЬЭЮУЮЮЪЮЭЭго баХФг ФЫп  ЯаЮУаРЬЬЭЮУЮ  ЮСХбЯХзХЭШп
їНІј.

     ѕбЭЮТЭлХ вХаЬШЭл:

ї»ѕБєѕБВМ (AREA)- ЮСЫРбвм  ЯРЬпвШ,  Т  ЪЮвЮаго  ТлЯЮЫЭпХвбп  ТлТЮФ
УаРдШзХбЪЮЩ Ш вХЪбвЮЩ ШЭдЮаЬРжШШ; б вЮзЪШ ЧаХЭШп ЧРФРзШ  -  ЮСлзЭЮ
ЭХЯаХалТЭРп    ЯапЬЮгУЮЫмЭРп	ЮСЫРбвм    ЮЯХаРвШТЭЮЩ	   ЯРЬпвШ;
еРаРЪвХаШбвШЪРЬШ ЯЫЮбЪЮбвШ пТЫповбп Хс ФЫШЭР, иШаШЭР, зШбЫЮ  СШвЮТ
ЭР вЮзЪг (1, 2, 4, 8);

НєА°Ѕ - дШЧШзХбЪШЩ нЪаРЭ ЬЮЭШвЮаР, ЭР ЪЮвЮалЩ ЯаЮШбеЮФШв  аХРЫмЭЮХ
ЮвЮСаРЦХЭШХ ШЭдЮаЬРжШШ;

їѕАВ- ЯапЬЮгУЮЫмЭРп ЮСЫРбвм нЪаРЭР; ЯЮ ТХавШЪРЫШ ЧРФРсвбп ЭЮЬХаР-
ЬШ ЯХаТЮЩ Ш ЯЮбЫХФЭХЩ ТШФХЮ бваЮЪШ, Р ЯЮ  УЮаШЧЮЭвРЫШ  -  ЭЮЬХаРЬШ
ЯХаТЮЩ Ш ЯЮбЫХФЭХЩ ЯЮЫЮбЪШ; Т ЧРЯаЮбРе Ъ  ЮЪЮЭЭЮЩ  бШбвХЬХ  ЭЮЬХаР
ТШФХЮ-бваЮЪ аХЪЮЬХЭФгХвбп гЪРЧлТРвм ЪаРвЭлЬШ  4  (нвЮ  дРЪвШзХбЪРп
ФШбЪаХвЭЮбвм, ШбЯЮЫмЧгХЬРп ЮЪЮЭЭЮЩ бШбвХЬЮЩ);

ѕєЅѕ- ЯапЬЮгУЮЫмЭлЩ даРУЬХЭв ЯЫЮбЪЮбвШ; ЧРФРсвбп  ЭЮЬХаЮЬ  ЯХаТЮЩ
ЮвЮСаРЦРХЬЮЩ бваЮЪШ  Ш	бЬХйХЭШХЬ  Т  СРЩвРе  ЮвЭЮбШвХЫмЭЮ  ЭРзРЫР
ТШФХЮ-бваЮЪШ  (нвЮ  вЮзЪР  ЯаШТпЧЪШ   -   ЫХТлЩ   ТХаеЭШЩ   гУЮЫ);
ЭХФЮбвРойШХ  ЯРаРЬХвал	ЮЯаХФХЫповбп   аРЧЬХаРЬШ   Ш   ЯРаРЬХваРЬШ
ЬРбивРСШаЮТРЭШп ЯЮавР,	Т  ЪЮвЮаЮЬ  ЮвЮСаРЦРХвбп  ФРЭЭЮХ  ЮЪЭЮ;  Т
ЧРЯаЮбРе  Ъ  ЮЪЮЭЭЮЩ  бШбвХЬХ  бЬХйХЭШХ  Т  СРЩвРе   аХЪЮЬХЭФгХвбп
ЧРФРТРвм ЪаРвЭлЬ зХвласЬ СРЩвРЬ (ФРЭЭРп ФШбЪаХвЭЮбвм  ЮЯаХФХЫпХвбп
РЯЯРаРвЭлЬШ баХФбвТРЬШ ТШФХЮ-ЪЮЭваЮЫЫХаР;

Іёґ (VIEW)- бЮТЮЪгЯЭЮбвм ЮЪЭР Ш ЯЮавР; ТШФ  ЭРЧлТРХвбп  РЪвШТЭлЬ,
в.Х. ЭРШСЮЫХХ ЯаШЮаШвХвЭлЬ,  ХбЫШ  ЮЭ  ЭХ  "ЧРбЫЮЭпХвбп"  ЭШЪРЪШЬШ
ФагУШЬШ ТШФРЬШ Ш бРЬ ЬЮЦХв "ЧРбЫЮЭпвм" ФагУШХ ТШФл;

ї°»ёВА° (PALETTE)- вРСЫШжР Т ЮЯХаРвШТЭЮЩ ЯРЬпвШ, ШбЯЮЫмЧгХЬРп ФЫп
ЧРФРЭШп  ЪЮЬЯЮЭХЭв  ЪаРбЭЮУЮ  (R),  ЧХЫсЭЮУЮ  (G)  Ш  бШЭХУЮ   (B)
ЮввХЭЪЮТ, ШбЯЮЫмЧгХЬле ФЫп дЮаЬШаЮТРЭШп ЮФЭЮУЮ ШЧ 65536  ТЮЧЬЮЦЭле
жТХвЮТ; ФЫп ЪРЦФЮУЮ ШЧ аХЦШЬЮТ ТШФХЮ-ЪЮЭваЮЫЫХаР ШЬХХвбп ЭХбЪЮЫмЪЮ
ЭХЧРТШбШЬле ЯРЫШвал; Т аХЦШЬХ 1 СШв/вЮзЪг ЬЮЦЭЮ  ШбЯЮЫмЧЮТРвм  ФТР
ТЮЧЬЮЦЭле жТХвР, ЪЮФШагХЬле 0  ШЫШ  1;	ЯРЫШваР  ФЫп  ЮСЮШе  ЪЮФЮТ
ЯЮЧТЮЫпХв ЭРЧЭРзШвм ЫоСлХ ШЧ 65536 жТХвЮТ; РЭРЫЮУШзЭЮ ФЫп  аХЦШЬЮТ
2, 4 Ш 8 СШв/вЮзЪг;

ИАёДВ (FONT) - бЮТЮЪгЯЭЮбвм бвагЪвга ФРЭЭле, ЮЯаХФХЫпойШе дЮаЬг  Ш
ЪЮФШаЮТРЭШХ СгЪТ, жШда,  УаРдШзХбЪШе  бШЬТЮЫЮТ	ФЫп  ЧЭРЪЮЬХбвЭЮУЮ
ТлТЮФР ШЭдЮаЬРжШШ ЭР ЯЫЮбЪЮбвм;

єГАБѕА (CURSOR)- ЫЮУШзХбЪШЩ гЪРЧРвХЫм, ЮвЮСаРЦРХЬлЩ ЭР  нЪаРЭХ  Т
ТШФХ ЯХаХЪаХбвШп, г ЪЮвЮаЮУЮ ЯЮЫЭЮбвмо ТлбТХзШТРХвбп  УЮаШЧЮЭвРЫм-
ЭРп бЮбвРТЫпойРп, Р ТХавШЪРЫмЭРп - вЮЫмЪЮ  Т  вХе  зРбвпе  нЪаРЭР,
ЪЮвЮалХ  ЭХ  ЧРЭпвл  ТШФРЬШ;   ТХавШЪРЫмЭРп   бЮбвРТЫпойРп   вРЪЦХ
ЬРаЪШагХвбп  ЭР  УЮаШЧЮЭвРЫмЭле  ЮСаРЬЫпойШе  РЪвШТЭЮУЮ  (ЭРШСЮЫХХ
ЯаШЮаШвХвЭЮУЮ) ТШФР.

     їаШЬХзРЭШХ.ЅР нЪаРЭХ  ЭгЬХаРжШп  бваЮЪ  ЭРзШЭРХвбп  б  0,  Р
ЭгЬХаРжШп  ЯЮЫЮбЮЪ  -  б  1.  І  ЧРЯаЮбРе  Ъ  ЮЪЮЭЭЮЩ  бШбвХЬХ	ЭХ
аХЪЮЬХЭФгХвбп аРЧЬХйРвм ТШФл  ЭР  УаРЭШжРе  нЪаРЭР,  ЯЮбЪЮЫмЪг	ЭР
ЪаРпе вагСЪШ ЬЮЭШвЮаР ТЮЧЬЮЦЭл аРЧЫШзЭлХ ШбЪРЦХЭШп,  бЯХжШдШзХбЪШХ
ФЫп ЪЮЭЪаХвЭЮУЮ вШЯР ЬЮЭШвЮаР.

їаШЬХа ТЮЧЬЮЦЭЮУЮ ЮвЮСаРЦХЭШп ФТге ЯЫЮбЪЮбвХЩ Ш зХвласе  ТШФЮТ	ЭР
нЪаРЭХ:

				       ¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤Ў
ЯЫЮбЪЮбвм-1			      ҐЯЫЮбЪЮбвм-2     Ґ
 ¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤Ў      Ґ 	       Ґ
Ґ  ЮЪЭЮ-1.1		       Ґ      Ґ 	       Ґ
Ґ   ¤¤¤¤¤¤¤¤¤Ў		       Ґ      Ґ       ¤¤Ў      Ґ
Ґ  Ґ	     Ґ	      ЮЪЭЮ-1.3 Ґ      Ґ      Ґ	Ґ      Ґ
Ґ  Ј¤¤¤¤¤¤¤¤¤ў	       ¤¤¤¤Ў   Ґ      Ґ      Ґ	Ґ      Ґ
Ґ	      ЮЪЭЮ-1.2Ґ    Ґ   Ґ      Ґ      Ґ	Ґ      Ґ
Ґ		  ¤¤¤¤Є¤¤Ў Ґ   Ґ      Ґ      Ґ	Ґ      Ґ
Ґ		 Ґ    Ј¤¤Є¤ў   Ґ      Ґ      Ј¤¤ў      Ґ
Ґ		 Ґ	 Ґ     Ґ      Ґ    ЮЪЭЮ-2.1    Ґ
Ґ		 Ґ       Ґ     Ґ      Ј¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ў
Ґ		 Ј¤¤¤¤¤¤¤ў     Ґ
Ј¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ў

		ђ””””””””””””””””””””””””””””””””””‘
		•		     ЯЮав-1.2	   •
		•		      ¤¤¤¤¤¤¤¤Ў    •
		•		     Ґ	      Ґ    •
		•	   ЯЮав-1.1  Ґ	 ¤¤Ў  Ґ    •
		•		 ¤¤¤¤§	Ґ  Ґ  Ґ    •
		•	      ¤¤§    Ј¤¤§  ©¤¤ў    •
		•	     Ґ	Ј¤¦¤¤¤¤¤§  Ґ	   •
		•	     Ґ	  Ґ	Ґ  Ґ	   •
		•	     Ј¤¤¤¤ў	Ј¤¤ў	   •
		•	   ЯЮав-1.3	ЯЮав-2.1   •
		•				   •
		•				   •
		•				   •
		“””””””””””””””””””””””””””””””””””’нЪаРЭ

ТШФ-2.1   =    ЮЪЭЮ-2.1  +  ЯЮав-2.1	- ЭРШСЮЫХХ ЯаШЮаШвХвЭлЩ ТШФ
ТШФ-1.2   =    ЮЪЭЮ-1.2  +  ЯЮав-1.2

ТШФ-1.1   =    ЮЪЭЮ-1.1  +  ЯЮав-1.1
ТШФ-1.3   =    ЮЪЭЮ-1.3  +  ЯЮав-1.3	- ЭРШЬХЭХХ ЯаШЮаШвХвЭлЩ ТШФ

ТШФ-2.1 		      - РЪвШТЭлЩ ТШФ - нвШЬ ТШФЮЬ ЬЮЦЭЮ
				гЯаРТЫпвм б ЯЮЬЮймо ЮЪЮЭЭЮУЮ
				ЬХЭХФЦХаР

	    15.1. ѕаУРЭШЧРжШп ЮЪЮЭЭЮЩ ЯЮФбШбвХЬл

     ДРЩЫ  WDC.MAC  бЮФХаЦШв  ЮЯаХФХЫХЭШп  ЪЮЭбвРЭв,  бвагЪвга	 Ш
ЬРЪаЮЧРЯаЮбЮТ ФЫп гЯаРТЫХЭШп ЮЪЮЭЭлЬ ЯаЮжХббЮЬ ШЧ ЯЮЫмЧЮТРвХЫмбЪШе
ЯаЮУаРЬЬ Ш/ШЫШ ФагУШе ЯаЮжХббЮТ.

     АРбЯаХФХЫХЭШХ ТШавгРЫмЭЮУЮ РФаХбЭЮУЮ ЯаЮбваРЭбвТР ЯаШ  аРСЮвХ
ЮЪЮЭЭЮУЮ ЯаЮжХббР ШЬХХв бЫХФгойШЩ ТШФ:


     0	   1	 2     3     4	   5	 6     7  - бваРЭШжл 8єС
  ™””љ””љ””љ””љ””љ””љ””љ””љ””љ””љ””љ””љ””љ””љ””љ””—

   Ј¤¦¤ў Ј¤¤¤¤¦¤¤¤¤ў Ј¤¤¤¤¤¤¤¤¤¤¦¤¤¤¤¤¤¤¤¤¤ў Ј¤¦¤ў
     Ґ	      Ґ 		Ґ	       Ј¤ бваРЭШжР Т/Т
     Ґ	      Ґ 		Ј¤¤¤¤¤¤¤¤¤¤¤¤¤¤ дШЪбШаЮТРЭЭРп
     Ґ	      Ґ 				ЮСЫРбвм ѕ·Г
     Ґ	      Ґ 				(ЭШЦЭпп ЯРЬпвм)
     Ґ	      Ј¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ ФШЭРЬШзХбЪРп ЮСЫРбвм
     Ґ					     ѕ·Г (ТХаеЭпп ЯРЬпвм)
     Ґ
     Ј¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ ЯаЮУаРЬЬЭлЩ ЪЮФ Ш
					   ЫЮЪРЫмЭлХ ЯХаХЬХЭЭлХ


     ґШЭРЬШзХбЪРп ЮСЫРбвм ЯРЬпвШ (ТШавгРЫмЭлХ РФаХбР  20000-57776)
ШЬХХв бЫХФгойго бвагЪвгаг:


       20000					    57776
        ¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¦¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤Ў
       Ј¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤Ё¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ў
	бвРвШзХбЪРп	ФШЭРЬШзХбЪРп ЧЮЭР	бвХЪ
	вРСЫШжР        ©¤¤¤¤¤¤¤¤¤¤ц	       ч¤¤¤¤§
				   ш
	WHEAP ¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ў


БвРвШзХбЪРп вРСЫШжР (аРЧЬХйРХвбп б ТШавгРЫмЭЮУЮ РФаХбР 20000):

WHEAP	       ;вХЪгйШЩ гЪРЧРвХЫм  бТЮСЮФЭЮЩ  зРбвШ  ФШЭРЬШзХбЪЮЩ
	       ЧЮЭл

SCREEN	       ;гЪРЧРвХЫм ЭР ЯХаТлЩ ТШФ (ЭРзРЫЮ бЯШбЪР ТШФЮТ)
VWSUCC	       ;ФХбЪаШЯвЮа дЮЭЮТЮУЮ ЮЪЭР (vwlen СРЩв)
VWFREE	       ;гЪРЧРвХЫм ЭР бЯШбЮЪ бТЮСЮФЭле ФХбЪа.ТШФЮТ
ARFREE	       ;гЪРЧРвХЫм ЭР бЯШбЮЪ бТЮСЮФЭле ФХбЪа.ЯЫЮбЪЮбвХЩ
FNFREE	       ;гЪРЧРвХЫм ЭР бЯШбЮЪ бТЮСЮФЭле ФХбЪа.иаШдвЮТ
PALTBL	       ;вРСЫШжР ШбЯЮЫмЧЮТРЭШп ЯРЫШва (30 бЫЮТ)
	       ; = 0 - ЯРЫШваР бТЮСЮФЭР
	       ;<> 0 - РФаХб ФХбЪа. ЯаЮжХббР, ЧРеТРвШТиХУЮ ЯРЫШваг
WDTBL	       ;вРСЫШжР ТШФЮТ (64 бЫЮТР);  бЮФХаЦШв  гЪРЧРвХЫШ	ЭР
	       ФХбЪаШЯвЮал   ТШФЮТ   (гЪРЧлТРХв   ЭХ   ЭР   ЭРзРЫЮ
	       ФХбЪаШЯвЮаР, Р ЭР ЯЮЫХ VW.TAR);	ЯаХФЭРЧЭРзХЭР  ФЫп
	       СлбваЮУЮ ЯЮШбЪР ФХбЪаШЯвЮаР ТШФР ЯЮ  ШФХЭвШдШЪРвЮаг
	       ТШФР; ШФХЭвШдШЪРвЮа ТШФР -  жХЫЮХ  зХвЭЮХ  зШбЫЮ  Т
	       ФШРЯРЧЮЭХ 2-126, в.Х. ТбХУЮ ЬЮЦХв Слвм ЭХ СЮЫХХ	64
	       ТШФЮТ;

ARTBL	       ;вРСЫШжР ЯЫЮбЪЮбвХЩ (64 бЫЮТР); бЮФХаЦШв  гЪРЧРвХЫШ
	       ЭР  ФХбЪаШЯвЮал	 ЯЫЮбЪЮбвХЩ;   ЯаХФЭРЧЭРзХЭР   ФЫп
	       СлбваЮУЮ   ЯЮШбЪР    ФХбЪаШЯвЮаР    ЯЫЮбЪЮбвШ	ЯЮ
	       ШФХЭвШдШЪРвЮаг ЯЫЮбЪЮбвШ; ШФХЭвШдШЪРвЮа ЯЫЮбЪЮбвШ -
	       жХЫЮХ зХвЭЮХ зШбЫЮ Т ФШРЯРЧЮЭХ  2-126,  в.Х.  ТбХУЮ
	       ЬЮЦХв Слвм ЭХ СЮЫХХ 64 ЯЫЮбЪЮбвХЩ;
proadr	       ;гЪРЧРвХЫм РФаХбР ФХбЪаШЯвЮаР ЯаЮжХббР,	ЮСаРвШТиХ-
	       УЮбп Ъ ЮЪЮЭЭЮЩ бШбвХЬХ;
SPAT	       ;"ЬгЫпЦ нЪаРЭР" (бЫгЦХСЭРп вРСЫШжР) аРЧЬХаЮЬ  26;75
	       СРЩв (нЪаРЭ б вЮзЪШ ЧаХЭШп ЮЪЮЭЭЮЩ бШбвХЬл  бЮбвЮШв
	       ШЧ 75 ЫЮУШзХбЪШе бваЮЪ,	Т  ЪРЦФЮЩ  ШЧ  ЪЮвЮале	26
	       ЯЮЫЮбЮЪ; ЮФЭР  ЫЮУШзХбЪРп  бваЮЪР  бЮбвЮШв  ШЧ  4-е
	       ТШФХЮ-бваЮЪ);
spatzz	       ;ЯаШЧЭРЪ ЪЮЭжР ЬгЫпЦР нЪаРЭР (ТбХУФР = 177777)
TAS0D	       ;В°Б ФЫп дЮЭЮТЮЩ ЯЫЮбЪЮбвШ (4 бЫЮТР)
TAS0	       ;ФЮЯЮЫЭШвХЫмЭлЩ TAS ФЫп дЮЭЮТЮЩ ЯЫЮбЪЮбвШ (2 бЫЮТР)
CTAS	       ;В°Б ФЫп ЪгабЮаР (1 бваЮЪР)
SXCUR	       ;ЮСЫРбвм бЮеаРЭХЭШп ФЫп гЪРЧРвХЫп ЪгабЮаР (=0 - ЭХв
	       ЪгабЮаР);
STAS	       ;ЮСЫРбвм бЮеаРЭХЭШп ФЫп В°Б ЪгабЮаР (addr,tas) 4 С;
XCUR	       ;ЪЮЮаФШЭРвл
YCUR	       ;   ЪгабЮаР
PLPAR	       ;бЮФХаЦШЬЮХ PAR ФЫп ЮвЮСаРЦХЭШп ЮСЫРбвШ ЯРЫШва

WTOP	       = ; ЪЮЭХж бвРвШзХбЪЮЩ ЧЮЭл


     єЮЭбвРЭвл, ЮЯаХФХЫпойШХ ЬРбЪШ ФЫп	ЮЯШбРЭШп  ЫЮУШзХбЪЮЩ  В°Б,
ШбЯЮЫмЧгХЬЮЩ Т ЧРЯаЮбРе Ъ ЮЪЮЭЭЮЩ бШбвХЬХ:

vm1	 = 0	   ;аХЦШЬ 1 СШв/вЮзЪг
vm2	 = 1	   ;	  2
vm4	 = 2	   ;	  4
vm4	 = 3	   ;	  4	      (2-ЮЩ аХЦШЬ)

vm8	 = 7	   ;	  8
pl0	 = 000000  ;ЭЮЬХа ЯРЫШвал 0
pl1	 = 040000  ;		  1
pl2	 = 100000  ;		  2
pl3	 = 140000  ;		  3
plb	 = 4	   ;ТвЮаЮЩ СЫЮЪ ЯРЫШва

		БвагЪвгаР ФХбЪаШЯвЮаР ТШФР:

VW.SUCC        ;гЪРЧРвХЫм ЭР бЫХФгойШЩ ТШФ Т бЯШбЪХ
VW.PRED        ;гЪРЧРвХЫм ЭР ЯаХФлФгйШЩ ТШФ Т бЯШбЪХ

	зРбвм ФХбЪаШЯвЮаР, ЧРФРТРХЬРп ЯЮЫмЧЮТРвХЫХЬ
VW.AREA        ;ШФХЭвШдШЪРвЮа ЯЫЮбЪЮбвШ

	ЪЮЮаФШЭРвР ТХаеЭХУЮ ЫХТЮУЮ гУЫР ЮЪЭР ЭР ЯЫЮбЪЮбвШ:
VW.ARY	       ;ЭЮЬХа ЯХаТЮЩ бваЮЪШ ЭР ЯЫЮбЪЮбвШ
VW.ARX	       ;бЬХйХЭШХ Юв ЭРзРЫР бваЮЪШ ЯЫЮбЪЮбвШ Т СРЩвРе
	ЪЮЮаФШЭРвл ЯЮавР ЭР нЪаРЭХ:
VW.SY1	       ;ЭЮЬХа ЯХаТЮЩ бваЮЪШ ТШФР ЭР нЪаРЭХ
VW.SY2	       ;ЭЮЬХа ЯЮбЫХФЭХЩ бваЮЪШ ТШФР ЭР нЪаРЭХ
VW.SX1	       ;ЭЮЬХа ЯХаТЮЩ ЯЮЫЮбЪШ ТШФР ЭР нЪаРЭХ
VW.SX2	       ;ЭЮЬХа ЯЮбЫХФЭХЩ ЯЮЫЮбЪШ ТШФР ЭР нЪаРЭХ

VW.DEN	       ;ЬЫРФиШЩ СРЩв - ЯЫЮвЭЮбвм ЯЮ УЮаШЧЮЭвРЫШ (0,1,2)
	       ;бвРаиШЩ СРЩв - ЯЫЮвЭЮбвм ЯЮ ТХавШЪРЫШ (0,1,2)
	       ; 0 - бЮЮвТХвбвТгХв ЬШЭШЬРЫмЭЮЩ ЯЫЮвЭЮбвШ, в.Х.
	       ; ЬРЪбШЬРЫмЭЮЩ аРбвпЦЪХ

	зРбвм ФХбЪаШЯвЮаР, ЧРЯЮЫЭпХЬРп ЮЪЮЭЭЮЩ бШбвХЬЮЩ
	(ТЭгваХЭЭШХ ЯРаРЬХвал; shl - ЮЯХаРжШп бФТШУР ТЫХТЮ)
VW.TAR	       ;РФаХб ЭРзРЫР В°Б ФЫп ШбЯЮЫмЧгХЬЮЩ ЯЫЮбЪЮбвШ
VW.HD	       ;УЮаШЧЮЭвРЫмЭРп ЯЫЮвЭЮбвм ТШФР
	       ;.word [0,1,2]
VW.XOF	       ;ЯРаРЬХва, ЮЯаХФХЫпойШЩ бЬХйХЭШХ ЯЮ УЮаШЧЮЭвРЫШ
	       ; ( SX1 shl HD ) - ( ARX / 2 )
VW.VD	       ;ТХавШЪРЫмЭРп ЯЫЮвЭЮбвм ТШФР: .byte [0,1,2]
VW.NUM	       ;ШФХЭвШдШЪРвЮа ТШФР: .byte [2,4,...126.]
VW.YOF	       ;ЯРаРЬХва, ЮЯаХФХЫпойШЩ бЬХйХЭШХ ЯЮ ТХавШЪРЫШ
	       ; ( SY1 shl VD ) - ARY
VW.DY1	       ;ЯРаРЬХвал, ЮЯаХФХЫпойШХ
VW.DY2	       ;    аРбвпЦЪг
VW.DY3	       ;	 ЯЮ ТХавШЪРЫШ

 VWLEN	       = ФЫШЭР ФХбЪаШЯвЮаР ТШФР Т СРЩвРе

         БвагЪвгаР ФХбЪаШЯвЮаР ЯЫЮбЪЮбвШ:

AR.SUCC        ;гЪРЧРвХЫм ЭР бЫХФгойШЩ ФХбЪаШЯвЮа ЯЫЮбЪЮбвШ
AR.LEN	       ;дРЪвШзХбЪРп ФЫШЭР ФХбЪаШЯвЮаР Т бваЮЪРе
AR.LINS        ;ЪЮЫШзХбвТЮ бваЮЪ Т вХЪгйХЩ ЯЫЮбЪЮбвШ
AR.SLEN        ;ФЫШЭР ТШФХЮ-бваЮЪШ Т СРЩвРе
AR.TAS	       ;ЭРзРЫЮ В°Б ЯЫЮбЪЮбвШ

     ДРЪвШзХбЪРп ФЫШЭР ФХбЪаШЯвЮаР ЮЯаХФХЫпХвбп  зШбЫЮЬ  бваЮЪ	ЭР
ЯЫЮбЪЮбвШ, ФЫп ЪЮвЮаЮЩ бЮЧФРТРЫбп ФХбЪаШЯвЮа, Ш бЮбвРТЫпХв 4 бЫЮТР
(ЯЮбвЮпЭЭРп зРбвм  ФХбЪаШЯвЮаР)  ЯЫоб  зШбЫЮ  бваЮЪ  Т	ЯЫЮбЪЮбвШ,
гЬЭЮЦХЭЭЮХ ЭР 2, бЫЮТ.

     ґЫп ЪРЦФЮЩ ТШФХЮ-бваЮЪШ Т В°Б  ЮвТЮФШвбп  ФТР  бЫЮТР.  їХаТЮХ
бЫЮТЮ бЮФХаЦШв ТШавгРЫмЭлЩ РФаХб ЭРзРЫР бваЮЪШ. І вРСЫШжРе ЮЪЮЭЭЮЩ
бШбвХЬл еаРЭпвбп аРЧапФл 11..2 (ЮбвРЫмЭлХ бЮФХаЦРв 0). І  ЧРЯаЮбРе
Ъ ЮЪЮЭЭЮЩ бШбвХЬХ  ТШавгРЫмЭлЩ	РФаХб  ЬЮЦХв  бЮФХаЦРвм  ЭХЭгЫХТлХ
ЧЭРзХЭШп Т аРЧапФРе 15..12. ІвЮаЮХ бЫЮТЮ бЮФХаЦШв Т аРЧапФРе 13..4
ЧЭРзХЭШХ  аХУШбваР  ФШбЯХвзХаР	ЯРЬпвШ	ФЫп  ТШавгРЫмЭЮУЮ  РФаХбР,
ЫХЦРйХУЮ Т ЬЫРФиШе 4є ЮЪЭР; аРЧапФл 2..0 - ТШФХЮ-аХЦШЬ (VM1,  VM2,
VM40, VM41, VM8); аРЧапФл 15..14 - ЭЮЬХа ЯРЫШвал (PL0,	PL1,  PL2,
PL3); аРЧапФ 2 ЮЯаХФХЫпХв ЯРЫШваЮТлЩ СЫЮЪ  (ФЫп  аХЦШЬЮТ  ТлбЮЪЮУЮ
аРЧаХиХЭШп).

     БвагЪвгаР аХУШбваР ФШбЯХвзХаР ЯРЬпвШ:
   ¤¤¤¤¤¦¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¦¤¤¦¤¤¦¤¤¤¤¤Ў
  Ґ15 14Ґ13 12 11 10  9 $8  7  6  5  4Ґ 3Ґ 2Ґ 1  0Ґ
  Ј¤¤¤¤¤Ё¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤Ё¤¤Ё¤¤Ё¤¤¤¤¤ў
	 21			    12	Ґ  Ґ   Ґ
		    АРЧапФл РФаХбР ѕ·Г	Ґ  Ґ   Ј¤¤§аХЦШЬ ЬРбЪШаЮ-
					Ґ  Ґ	   ТРЭШп ЯаШ ЧР-
					Ґ  Ґ	   ЯШбШ Т ѕ·Г
					Ґ  Ј¤¤¤¤¤¤ ЧРаХЧХаТШаЮТРЭ
					Ј¤¤¤¤§0 - аРЧаХиХЭЮ ѕ·Г
					      1 - ЧРЯаХв ФЮбвгЯР
						  Ъ ѕ·Г

	АХЦЬШ ЬРбЪШаЮТРЭШп:
	0  0 - ЭХв ЬРбЪШаЮТРЭШп
	0  1 - ЬРбЪШаЮТРЭШХ Т аХЦШЬХ 2 СШв/вЮзЪг
	1  x - ЬРбЪШаЮТРЭШХ Т аХЦШЬХ 4 СШв/вЮзЪг

     їаШ ШбЯЮЫмЧЮТРЭШШ Т ЯЮЫмЧЮТРвХЫмбЪШе ЯаЮУаРЬЬРе "ТвЮале бЫЮТ"
бЫХФгХв  гзШвлТРвм  звЮ  ЭХЯЮбаХФбвТХЭЭЮХ  ЪЮЯШаЮТРЭШХ	Т  аХУШбва
ФШбЯХвзХаР  ЯРЬпвШ  ЬЮЦХв  ЯаШТЮФШвм  Ъ  ТЪЫозХЭШо   "ЯаЮЧаРзЭЮУЮ"
аХЦШЬР.

     ґХбЪаШЯвЮа ЯЫЮбЪЮбвШ -  ХФШЭбвТХЭЭРп  ФШЭРЬШзХбЪРп  бвагЪвгаР
ЮЪЮЭЭЮЩ бШбвХЬл, ШЬХойРп ЯХаХЬХЭЭго ФЫШЭг. ґХбЪаШЯвЮал Т  ЯаЮжХббХ
аРСЮвл	ФШЭРЬШзХбЪШ  бЮЧФРовбп	Ш   ЮбТЮСЮЦФРовбп.   ѕбТЮСЮЦФсЭЭлХ
ФХбЪаШЯвЮал бТпЧРЭл Т бЯШбЮЪ, гЯЮапФЮзХЭЭлЩ ЯЮ ФЫШЭХ  ФХбЪаШЯвЮаР.
їХаТлЬ Т бЯШбЪХ  ЭРеЮФШвбп  ФХбЪаШЯвЮа,  ШЬХойШЩ  бРЬго  ЬРЫХЭмЪго
ФЫШЭг.

     їаШ бЮЧФРЭШШ ЭЮТЮЩ ЯЫЮбЪЮбвШ ЯаЮбЬРваШТРХвбп бЯШбЮЪ бТЮСЮФЭле
ФХбЪаШЯвЮаЮТ. µбЫШ ФЫп ЭЮТЮЩ  ЯЫЮбЪЮбвШ  гФРсвбп  ЭРЩвШ  Т  бЯШбЪХ
ФХбЪаШЯвЮа ЯЮФеЮФпйХУЮ	аРЧЬХаР,  вЮ  ЮЭ  Ш  ШбЯЮЫмЧгХвбп.  ѕФЭРЪЮ
аХРЫмЭРп ФЫШЭР ЭЮТЮЩ  ЯЫЮбЪЮбвШ  ЬЮЦХв	Слвм  ЬХЭмиХ,  зХЬ  аРЧЬХа
ШбЯЮЫмЧЮТРЭЭЮУЮ  ФХбЪаШЯвЮаР.  ДРЪвШзХбЪШЩ  аРЧЬХа  ЯЫЮбЪЮбвШ	ЯЮ
ТХавШЪРЫШ  ЬЮЦХв  Слвм	ЬХЭмиХ	аРЧЬХаР  ЯЫЮбЪЮбвШ,  ФЫп   ЪЮвЮаЮЩ
бЮЧФРТРЫбп ФХбЪаШЯвЮа. їЮнвЮЬг Т ФХбЪаШЯвЮаХ еаРЭпвбп  ФТХ  ФЫШЭл:
ФЫШЭР ЯХаТЮЭРзРЫмЭЮЩ ЯЫЮбЪЮбвШ (ФЫп ЪЮвЮаЮЩ бЮЧФРТРЫбп ФХбЪаШЯвЮа)
Ш ФЫШЭР вХЪгйХЩ ЯЫЮбЪЮбвШ. НвЮ ЯЮЧТЮЫШв ШбЯЮЫмЧЮТРвм ЯЮЫЭлЩ аРЧЬХа
ФХбЪаШЯвЮаР Т бЫХФгойШЩ аРЧ  (ЯЮбЫХ  ЮбТЮСЮЦФХЭШп  ФХбЪаШЯвЮаР	Юв
ЭЮТЮЩ ЯЫЮбЪЮбвШ).

	  БвагЪвгаР ФХбЪаШЯвЮаР иаШдвР:

FN.SUCC        ;гЪРЧРвХЫм ЭР бЫХФгойШЩ ФХбЪаШЯвЮа иаШдвР (ХбЫШ	0,
		вЮ нвЮ ЯЮбЫХФЭШЩ ФХбЪаШЯвЮа)
FN.PAR	       ;бЮФХаЦШЬЮХ   аХУШбваР	ФШбЯХвзХаР   ЯРЬпвШ    ФЫп
		ЮвЮСаРЦХЭШп   иаШдвР   (ФЫп   ЮвЮСаРЦХЭШп   иаШдвР
		ФЮбвРвЮзЭЮ ЮФЭЮУЮ ЮЪЭР 8є)
FNLEN	       = ФЫШЭР ФХбЪаШЯвЮаР иаШдвР

	     БвагЪвгаР иаШдвР:

fn.tb	       ;вРСЫШжР ФЫШЭЮЩ 256 бЫЮТ; ЪРЦФЮХ бЫЮТЮ - нвЮ  РФаХб
		Т ЮСЫРбвШ fn.beg, УФХ ЭРзШЭРХвбп вРСЫШжР ЮзХавРЭШЩ
		бШЬТЮЫР;   РФаХб   ФЮЫЦХЭ    ЯаХФбвРТЫпвм    бЮСЮЩ
		ТШавгРЫмЭлЩ РФаХб ФЫп бЫгзРп ЮвЮСаРЦХЭШп иаШдвР  Т
		0-ЮХ ЮЪЭЮ (ФагУШЬШ  бЫЮТРЬШ  Т	вРСЫШжХ  ЭРеЮФпвбп
		бЬХйХЭШп Юв fn.tb  ФЮ  ЭРзРЫР  СРЩвЮТ,	бЮФХаЦРйШе
		ЮзХавРЭШХ бЮЮвТХвбвТгойХУЮ бШЬТЮЫР);  иаШдв  ЬЮЦХв
		бЮФХаЦРвм ФЮ 256 бШЬТЮЫЮТ; ЯХаТЮХ  бЫЮТЮ  -  РФаХб
		вРСЫШжл ФЫп бШЬТЮЫР б ЪЮФЮЬ 0; бЫХФгойХХ  бЫЮТЮ  -
		ФЫп бШЬТЮЫР б ЪЮФЮЬ 1 Ш в.Ф.
fn.hi	       ;ТлбЮвР ЧЭРЪЮЬХбвР Т ТШФХЮ-бваЮЪРе  (10	-  вХЪгйХХ
		ЧЭРзХЭШХ, ЯЮФФХаЦШТРХЬЮХ ЯаШ ЧЭРЪЮЬХбвЭЮЬ ТлТЮФХ)
fn.wi	       ;иШаШЭР ЧЭРЪЮЬХбвР Т СШвРе (8 -	вХЪгйХХ  ЧЭРзХЭШХ,
		ЯЮФФХаЦШТРХЬЮХ ЯаШ ЧЭРЪЮЬХбвЭЮЬ ТлТЮФХ)
fn.id	       ;.ascii "PC" - ШФХЭвШдШЪРвЮа ФЫп жХЫХЩ ЪЮЭваЮЫп
fn.nam	       ;.asciz "string" - ШЬп иаШдвР (14 СРЩв)
fn.beg	       ;ЭРзРЫЮ ЮСЫРбвШ ЮзХавРЭШЩ бШЬТЮЫЮТ (ЯЮбваЮзЭЮ)

       ДШЪбШаЮТРЭЭРп ЮСЫРбвм ЯРЬпвШ (РФаХбР 60000-157776):
TAS	  ;вРСЫШжР РФаХбЮТ бваЮЪ (В°Б); ЯЮ 2 бЫЮТР ЭР ТШФХЮ-бваЮЪг
TAS313	  ;ФЮЯЮЫЭШвХЫмЭРп В°Б ФЫп бваЮЪ  301-313  (ЧРаХЧХаТШаЮТРЭР
	  ФЫп ЯЮбЫХФгойХУЮ ШбЯЮЫмЧЮТРЭШп)
XXXXXX	  ;аХЧХаТЭРп ЮСЫРбвм 56. + 256. СРЩв
CTAO	  ;ФТР бЫЮТР ФЫп бЮеаРЭХЭШп ЪгабЮаР
TAO	  ;ЮСЫРбвм вРСЫШжл РФаХбЮТ ЮваХЧЪЮТ (В°ѕ)
PAL	  ;ЮСЫРбвм ЯРЫШва 2 єСРЩв аРЧЬХйРХвбп  Т  ЮвФХЫмЭЮЬ  СЫЮЪХ
	  ЯРЬпвШ, ЮвЮСаРЦРХЬЮЩ б РФаХбР 60000.


	     5.2. АХЪЮЬХЭФРжШШ ЯЮ ШбЯЮЫмЧЮТРЭШо

     І ЯаШЪЫРФЭле Ш  бШбвХЬЭле	ЯаЮУаРЬЬРе  ШбЯЮЫмЧЮТРЭШХ  баХФбвТ
ЮЪЮЭЭЮЩ  бШбвХЬл  ЯЮЧТЮЫпХв  бгйХбвТХЭЭЮ  бЮЪаРвШвм   ЧРваРвл	ЭР
ЯаЮХЪвШаЮТРЭШХ бЮТаХЬХЭЭле баХФбвТ ТЧРШЬЮФХЩбвТШп б ЯЮЫмЧЮТРвХЫХЬ.
     ІЭРзРЫХ ЮЯаХФХЫпХвбп ТШФХЮаХЦШЬ, Т ЪЮвЮаЮЬ СгФХв  бЮЧФРТРвмбп
Ш/ШЫШ ЮвЮСаРЦРвмбп ЭР нЪаРЭХ вХЪбвЮТРп Ш  УаРдШзХбЪРп  ШЭдЮаЬРжШп.
ІЮЧЬЮЦЭлЬШ аХЦШЬРЬШ пТЫповбп: VM1 (1 СШв ЭР вЮзЪг / 2 жТХвР),  VM2
(2 СШвР ЭР вЮзЪг / 4 жТХвР), VM40 (4 СШвР ЭР вЮзЪг /  16  жТХвЮТ),
VM41, ЯЮЫЭЮбвмо РЭРЫЮУШзЭлЩ аХЦШЬг VM40 Ш  аХЦШЬ  VM8  (8  СШв	ЭР
вЮзЪг / 256 жТХвЮТ).
     АХЦШЬл VM1, VM2,  VM40,  VM41  ЭРЧлТРовбп	аХЦШЬРЬШ  ТлбЮЪЮУЮ
аРЧаХиХЭШп. ґЫп ЪРЦФЮУЮ ШЧ нвШе аХЦШЬЮТ ШЬХХвбп  ФТР  СЫЮЪР  ЯЮ  4
ЯРЫШвал (ФЫп VM41 - вЮЫмЪЮ ЮФШЭ СЫЮЪ, в.Х. ТбХУЮ 4 ЯРЫШвал).
     АХЦШЬ VM8 ЭРЧлТРХвбп ЬЭЮУЮжТХвЭлЬ	Ш  ШЬХХв  ФТХ  ЭХЧРТШбШЬлХ
ЯРЫШвал.
     ґЫп ЮФЭЮУЮ СЫЮЪР ЪРЦФЮУЮ аХЦШЬР ТлбЮЪЮУЮ аРЧаХиХЭШп ШЬХХвбп 4
ЯРЫШвал, ШЬХойШХ ЭЮЬХаР PL0 (ь0), PL1 (ь1), PL2  (ь2),	PL3  (ь3).
їРЫШваР  ь0  ФЫп  ЪРЦФЮУЮ  аХЦШЬР  ЭРЧлТРХвбп	бвРЭФРавЭЮЩ.   ІбХ
ЮбвРЫмЭлХ ЯРЫШвал ЬЮУгв Слвм ЧРеТРзХЭл ЯаЮУаРЬЬЮЩ (ЯаЮжХббЮЬ)  ФЫп
"ЬЮЭЮЯЮЫмЭЮУЮ"	ШбЯЮЫмЧЮТРЭШп.	їаШ  ЧРеТРвХ  ЯРЫШвал  (Т  ЧРЯаЮбХ
PLCRE) ЭХЮСеЮФШЬЮ гЪРЧРвм, ФЫп ЪРЪЮУЮ аХЦШЬР СгФХв  ШбЯЮЫмЧЮТРвмбп
ЯРЫШваР. їЮбЫХ	ЧРТХаиХЭШп  аРСЮвл  ЯаЮУаРЬЬР  ФЮЫЦЭР  ЮСпЧРвХЫмЭЮ
ЮбТЮСЮФШвм ЧРеТРзХЭЭго ЯРЫШваг.

     µбЫШ ТбХ ЯРЫШвал гЦХ ЧРеТРзХЭл, вЮ ЧРЯаЮб PLCRE ТлЯЮЫЭШвбп  б
ЮиШСЪЮЩ. І нвЮЬ бЫгзРХ ЯаЮУаРЬЬР ЬЮЦХв	ТЮбЯЮЫмЧЮТРвмбп  ЫоСЮЩ	ШЧ
зХвласе ЯРЫШва ваХСгХЬЮУЮ аХЦШЬР: Т ЧРЯаЮбРе  ЬЮФШдШЪРжШШ  ЯРЫШвал
PLMOD	Ш   бЮеаРЭХЭШп	 ЯРЫШвал   PLSAV   ЭШЪРЪШе   ЯаЮТХаЮЪ	ЭР
"ЯаШЭРФЫХЦЭЮбвм" ЯРЫШвал ЭХ ЯаЮШЧТЮФШвбп.
     їЮбЫХ аХиХЭШп ТЮЯаЮбР Ю аХЦШЬХ Ш ЯРЫШваХ ЬЮЦЭЮ  ЯаШбвгЯРвм  Ъ
ЯаЮСЫХЬХ  бЮЧФРЭШп  ЯЫЮбЪЮбвШ.	µбЫШ   ЯаХФЯЮЫРУРХвбп	аРСЮвР	 б
аХУгЫпаЭЮЩ  ЯЫЮбЪЮбвмо	(ЯапЬЮгУЮЫмЭЮЩ	дЮаЬл),  вЮ  жХЫХбЮЮСаРЧЭЮ
ТЮЧЯЮЫмЧЮТРвмбп ЧРЯаЮбЮЬ ARCRE. ґРЭЭлЩ ЧРЯаЮб  дЮаЬШагХв  В°Б  ФЫп
ЯЫЮбЪЮбвШ Ш аХУШбваШагХв ЯЫЮбЪЮбвм Т ЮЪЮЭЭЮЩ бШбвХЬХ.
     µбЫШ ЯЫЮбЪЮбвм ШЬХХв ЭХаХУгЫпаЭго	бвагЪвгаг,  вЮ	ЯаШЪЫРФЭРп
ЯаЮУаРЬЬР бРЬР ФЮЫЦЭР бЮЧФРвм В°Б  ФЫп	нвЮЩ  ЯЫЮбЪЮбвШ,  Р  ЯЮбЫХ
нвЮУЮ ЧРаХУШбваШаЮТРвм Хс Т ЮЪЮЭЭЮЩ бШбвХЬХ ЧРЯаЮбЮЬ ARINST.  В°Б,
бЮЧФРЭЭРп  Т  ЯаЮУаРЬЬХ,  ЬЮЦХв  ШЧЬХЭпвмбп  Т	 ЯаЮжХббХ   аРСЮвл
ЯаЮУаРЬЬл. ёЭдЮаЬРжШп ЮС ШЧЬХЭХЭШпе В°Б ФЮЫЦЭР бЮЮСйРвмбп  ЮЪЮЭЭЮЩ
бШбвХЬХ ЧРЯаЮбЮЬ ARINST.  ЅРЯаШЬХа,  нЬгЫпвЮа  вХЪбвЮТЮУЮ  ФШбЯЫХп
вШЯР VT-100 (ТеЮФпйШЩ Т бЮбвРТ Іїѕ, бЬ.  Я.8)  аХРЫШЧгХв  ЮЯХаРжШШ
бЪаЮЫЫШЭУР (бФТШУР бЮФХаЦШЬЮУЮ нЪаРЭР) ЯгвсЬ ЬЮФШдШЪРжШШ В°Б,  звЮ
ТлЯЮЫЭпХвбп СлбваХХ, ЯЮ  баРТЭХЭШо  б  РЫмвХаЭРвШТЭлЬ  аХиХЭШХЬ  -
ЪЮЯШаЮТРЭШХЬ ЯРЬпвШ.
     їаЮжХФгаР	аХУШбваРжШШ  ЯЫЮбЪЮбвШ	ЧРеТРвлТРХв   "ФХдШжШвЭго"
ЯРЬпвм	(ШЧ  ФШЭРЬШзХбЪЮЩ  ЮСЫРбвШ)   ФЫп   еаРЭХЭШп   ФХбЪаШЯвЮаР
ЯЫЮбЪЮбвШ.  їЮнвЮЬг  ЯЮбЫХ  ЧРЯаЮбЮТ  ARCRE,  ARINST   ЮСпЧРвХЫмЭЮ
бЫХФгХв ФХЫРвм ЯаЮТХаЪг ЭР ЭРЫШзШХ ЮиШСЮЪ. µбЫШ нвЮУЮ  ЭХ  ФХЫРвм,
вЮ ЯаШЪЫРФЭРп ЯаЮУаРЬЬР ЬЮЦХв ЭРагиШвм аРСЮвг  ТбХУЮ  ЯаЮУаРЬЬЭЮУЮ
ЮСХбЯХзХЭШп.  ґЫп   нЪЮЭЮЬШШ   ЯРЬпвШ	Т   ФШЭРЬШзХбЪЮЩ   ЮСЫРбвШ
аХЪЮЬХЭФгХвбп ШбЯЮЫмЧЮТРвм ЯЫЮбЪЮбвШ, ШЬХойШХ ЭХСЮЫмиШХ аРЧЬХал ЯЮ
ТХавШЪРЫШ  (аРЧЬХа  ЯЫЮбЪЮбвШ  ЯЮ   УЮаШЧЮЭвРЫШ   ЭХ   ТЫШпХв	ЭР
ШбЯЮЫмЧЮТРЭШХ ЯРЬпвШ ФШЭРЬШзХбЪЮЩ ЮСЫРбвШ).
     БЫХФгХв  ЭХ  ЧРСлТРвм  гФРЫпвм ЭХШбЯЮЫмЧгХЬлХ  ЯЫЮбЪЮбвШ   ШЧ
ЮЪЮЭЭЮЩ бШбвХЬл б ЯЮЬЮймо ЧРЯаЮбР ARKILL  ШЫШ  б  ЯЮЬЮймо  ЪЮЬРЭФл
AREA-KILL Т ЮЪЮЭЭЮЬ ЬХЭХФЦХаХ.
     БЮСбвТХЭЭЮ бЮЧФРЭШХ Ш ЬРЭШЯгЫШаЮТРЭШХ  ТШФРЬШ  ЭР	нЪаРЭХ	ЭХ
ЯаХФбвРТЫпХв бЫЮЦЭЮбвШ. їаШ бЮЧФРЭШШ ШЫШ ЬЮФШдШЪРжШШ ТШФР  ЮЪЮЭЭРп
бШбвХЬР ЯаЮТХапХв Ш ЪЮааХЪвШагХв  ТбХ  ЯРаРЬХвал  вРЪ,	звЮСл  ЮЭШ
ШЬХЫШ ФЮЯгбвШЬлХ ЧЭРзХЭШп. ѕиШСЮЪ ЯаШ нвЮЬ ЭХ ЯаЮШбеЮФШв. АХРЫмЭлХ
(вХЪгйШХ) ЯРаРЬХвал ТШФР ТбХУФР ЬЮЦЭЮ ЯЮЫгзШвм ЧРЯаЮбЮЬ VWTAKE.
     БЫХФгХв  ЮСаРвШвм	ТЭШЬРЭШХ,  звЮ	РЪвШТЭлЩ   ТШФ	 (ЭРШСЮЫХХ
ЯаШЮаШвХвЭлЩ)  ЯЮЬХзРХвбп  Т  ЮЪЮЭЭЮЩ  бШбвХЬХ	б   ЯЮЬЮймо   ФТге
УЮаШЧЮЭвРЫмЭле	бваЮЪ,	ЮСаРЬЫпойШе   ТШФ   ЭР	 нЪаРЭХ.   їЮнвЮЬг
ШЭдЮаЬРжШп Т бРЬЮЩ ТХаеЭХЩ Ш бРЬЮЩ  ЭШЦЭХЩ  ТШФХЮбваЮЪРе  ТШФР	ЭХ
ЮвЮСаРЦРХвбп.  ІЮЧЬЮЦЭлЬ   аХиХЭШХЬ   ФРЭЭЮЩ   ЯаЮСЫХЬл   пТЫпХвбп
ТлФХЫХЭШХ ФТге ФЮЯЮЫЭШвХЫмЭле бваЮЪ Т ЯЫЮбЪЮбвШ (нвШ бваЮЪШ  ЬЮУгв
б ЯЮЬЮймо В°Б РФаХбЮТРвмбп ЭР ЮФЭг Ш вг ЦХ ЯРЬпвм).
     µйс ЮФЭЮЩ ЮбЮСХЭЭЮбвмо ЮЪЮЭЭЮЩ бШбвХЬл пТЫпХвбп  ФШбЪаХвЭЮбвм
аРЧЬХйХЭШп ТШФЮТ: ЯЮ ТХавШЪРЫШ - 4 ТШФХЮ-бваЮЪШ, Р ЯЮ  УЮаШЧЮЭвРЫШ
- ЮФЭР ЯЮЫЮбЪР. ґШбЪаХвЭЮбвм  ЯЮЧШжШЮЭШаЮТРЭШп	ЯЫЮбЪЮбвШ  Т  ТШФХ
ЮЯаХФХЫпХвбп ЮФЭЮЩ ТШФХЮ-бваЮЪЮЩ ЯЮ ТХавШЪРЫШ, Р ЯЮ УЮаШЧЮЭвРЫШ  -
б вЮзЭЮбвмо ФЮ зХвласе СРЩв (ЪРЦФРп ТШФХЮ-бваЮЪР ФЮЫЦЭР ЧРФРТРвмбп
РФаХбЮЬ, ЪаРвЭлЬ 4,  Р	бЬХйХЭШХ  ЯЮ  УЮаШЧЮЭвРЫШ  -  ФЮЫЦЭЮ  Слвм
ЪаРвЭлЬ 4).

     ѕЪЮЭЭРп ЯЮФбШбвХЬР, нЬгЫпвЮа вХЪбЮТЮУЮ ФШбЯЫХп Ш  бвРЭФРавЭлЩ
иаШдв аРЧЬХйРовбп Т бШбвХЬЭЮЬ ї·Г Ш РТвЮЬРвШзХбЪШ ШЭШжШРЫШЧШаговбп
ЯаШ ТЪЫозХЭШШ ЯШвРЭШп їНІј (ЯХаХФ ЧРУагЧЪЮЩ ґѕБ).
     ·РУагЧЪР ФЮЯЮЫЭШвХЫмЭле  ЪЮЬЯЮЭХЭв  (ФЮЯЮЫЭШвХЫмЭле  иаШдвЮТ,
ЮЪЮЭЭЮУЮ  ЬХЭХФЦХаР,  нЬгЫпвЮаР  УаРдШзХбЪЮУЮ	ФШбЯЫХп   Ш   в.Я.
ТлЯЮЫЭпХвбп  б	ЯЮЬЮймо  гвШЫШв,  ТеЮФпйШе  Т  бЮбвРТ	Іїѕ,   ЯЮФ

гЯаРТЫХЭШХЬ ґѕБ.

1. ·РУагЧЪР Ш аХУШбваРжШп "ЦШаЭЮУЮ" иаШдвР:

	  .fload bold

2. ·РУагЧЪР ЯаЮжХббР ЮЪЮЭЭЮУЮ ЬХЭХФЦХаР:

	  .prun vm.prc

3. ·РУагЧЪР ЯаЮжХббР нЬгЫпвЮаР УаРдШзХбЪЮУЮ ФШбЯЫХп:

	  .prun gt.prc

їаШЬХзРЭШХ.ґЫп ЧРУагЧЪШ Ш аХУШбваРжШШ иаШдвР (иаШдвЮТ)  Т  бЮбвРТ
Іїѕ ТеЮФШв ЯаЮУаРЬЬР FLOAD. їаЮУаРЬЬХ Т дЮаЬРвХ ЪЮЬРЭФЭЮЩ  бваЮЪШ
CSI гЪРЧлТРХвбп бЯХжШдШЪРжШп  дРЩЫР,  бЮФХаЦРйХУЮ  иаШдв,  ЪЮвЮалЩ
ЭгЦЭЮ ЧРУагЧШвм. ВШЯ дРЩЫР ЯЮ гЬЮЫзРЭШо -  .FON.  їаЮУаРЬЬР  FLOAD
ТлЯЮЫЭпХв  аРЧЫШзЭлХ   ЯаЮТХаЪШ,   ЧРеТРвлТРХв	 ЮСЫРбвм   ЯРЬпвШ,
ЧРУагЦРХв иаШдв ШЧ дРЩЫР Ш аХУШбваШагХв иаШдв Т  ЮЪЮЭЭЮЩ  бШбвХЬХ.
їЮбЫХ  нвЮУЮ   ЭР   вХЪбвЮТЮЬ	ФШбЯЫХХ   аРбЯХзРвлТРХвбп   бЯШбЮЪ
ШФХЭвШдШЪРвЮаЮТ (ШЬсЭ) ТбХе иаШдвЮТ, ЧРаХУШбваШаЮТРЭЭле Т  ЮЪЮЭЭЮЩ
бШбвХЬХ.

	          15.3. ·РЯаЮбл

     ѕЪЮЭЭРп ЯЮФбШбвХЬР пТЫпХвбп ЯаЮжХббЮЬ  б  вЮзЪШ  ЧаХЭШп  Іїѕ.
НвЮв  ЯаЮжХбб  гЯаРТЫпХвбп  ЯЮбаХФбвТЮЬ  ЮФЭЮУЮ   аХУШбваР   (в.Х.
ЮСбЫгЦШТРХв ЮФШЭ аХУШбва):

WCSR	  = 177530	 ; аХУШбва гЯаРТЫХЭШп ЮЪЮЭЭЮЩ ЯЮФбШбвХЬЮЩ

     ІбХ ЧРЯаЮбл Ъ ЮЪЮЭЭЮЬг ЯаЮжХббг ШЬХов бЫХФгойШЩ ТШФ:

     mov  #adr,     @#WCSR    ;ЧРЯШбРвм РФаХб СЫЮЪР ЧРЯаЮбР
     ...
adr: .blkw     X	      ;ЯРЬпвм ФЫп СЫЮЪР ЧРЯаЮбР

     ѕСаРйХЭШХ Ъ ЮЪЮЭЭЮЬг ЯаЮжХббг ТлЯЮЫЭпХвбп ЯгвсЬ ЧРЯШбШ РФаХбР
гЯаРТЫпойХУЮ  СЫЮЪР  Т	 аХУШбва   WCSR   (ЮСбЫгЦШТРХЬлЩ   ЮЪЮЭЭлЬ
ЯаЮжХббЮЬ).  ГЯаРТЫпойШЩ  СЫЮЪ	ФЮЫЦХЭ	аРЧЬХйРвмбп   Т   РФаХбЭЮЬ
ЯаЮбваРЭбвТХ  ЯаЮжХббР,  ЪЮвЮалЩ   ТлЯЮЫЭпХв   ЮСаРйХЭШХ.   АРЧЬХа
гЯаРТЫпойХУЮ СЫЮЪР ЧРТШбШв Юв вШЯР ЧРЯаЮбР.
     І ЯХаТЮЬ бЫЮТХ гЯаРТЫпойХУЮ СЫЮЪР ЯХаХФ ЮСаРйХЭШХЬ Ъ  ЮЪЮЭЭЮЩ
бШбвХЬХ ЭРеЮФШвбп ЪЮФ ЧРЯаЮбР. µбЫШ ЧРЯаЮб ЭХ СгФХв ТлЯЮЫЭХЭ ШЧ-ЧР
ЮиШСЮЪ	(ЮСЭРагЦХЭЭле  ЮЪЮЭЭлЬ	 ЯаЮжХббЮЬ),   вЮ   ЯХаТЮХ   бЫЮТЮ
гЯаРТЫпойХУЮ СЫЮЪР СгФХв бЮФХаЦРвм ЮваШжРвХЫмЭлЩ ЪЮФ ЧРЯаЮбР.
     µбЫШ Т ЬРЪаЮЪЮЬРЭФХ  РаУгЬХЭв  ЯаЮЯгйХЭ,  вЮ  бЮЮвТХвбвТгойРп
пзХЩЪР Т вРСЫШжХ area ЬРЪаЮЪЮЬРЭФЮЩ ШЧЬХЭпвмбп ЭХ СгФХв.
     јРЪаЮЪЮЬРЭФл "ЯЮавпв" аХУШбва R0:	ЯЮбЫХ  ЧРЯаЮбР	R0  ТбХУФР
бЮФХаЦШв РФаХб ЭРзРЫР вРСЫШжл AREA  в.Х. РФаХб пзХЩЪШ,	Т  ЪЮвЮаЮЩ
аРЧЬХйРХвбп ЪЮФ ЧРЯаЮбР.


	  5.3.1. АРСЮвР б ЯЫЮбЪЮбвпЬШx0
	  ”””””””””””””””””””””””””””
;------------------------
     ·РаХУШбваШаЮТРвм ЯЫЮбЪЮбвм Т ЮЪЮЭЭЮЩ бШбвХЬХ (ЪЮФ ЧРЯаЮбР 0):

ARINST	  area,anum,lins,slen

     area  -  РФаХб  вРСЫШжл  РаУгЬХЭвЮТ  (В°Б	ЯЫЮбЪЮбвШ   ФЮЫЦЭР
бЫХФЮТРвм ЭХЯЮбаХФбвТХЭЭЮ ЧР ЯЮбЫХФЭШЬ РаУгЬХЭвЮЬ Т вРСЫШжХ area);
     anum  -  ХбЫШ  ФРЭЭлЩ  РаУгЬХЭв  аРТХЭ  0,  вЮ  ШЭдЮаЬРжШп  Ю
ЯЫЮбЪЮбвШ СгФХв ЧРаХУШбваШаЮТРЭР, Р Т  вРСЫШжХ	area  (2-Х  бЫЮТЮ)
СгФХв ТЮЧТаРйсЭ ШФХЭвШдШЪРвЮа ЯЫЮбЪЮбвШ; ХбЫШ РаУгЬХЭв ЭХ 0, вЮ ЮЭ
ЮЯаХФХЫпХв   ШФХЭвШдШЪРвЮа   ЯЫЮбЪЮбвШ,    ФЫп	  ЪЮвЮаЮЩ    СгФХв
бЪЮааХЪвШаЮТРЭ В°Б;
     lins - ЪЮЫШзХбвТЮ бваЮЪ ЭР ЯЫЮбЪЮбвШ;
     slen - ФЫШЭР ЮФЭЮЩ бваЮЪШ Т СРЩвРе;

     ґРЫХХ Т вРСЫШжХ area ФЮЫЦХЭ бЫХФЮТРвм В°Б	ЯЫЮбЪЮбвШ  (ШЬХЭЭЮ
В°Б  ЮЯаХФХЫпХв  ЯЫЮбЪЮбвм);  В°Б  пТЫпХвбп  вРСЫШжХЩ  ФТгебЫЮТЭле
гЪРЧРвХЫХЩ ФЫп ЪРЦФЮЩ бваЮЪШ ЯЫЮбЪЮбвШ. ґЫп ЪРЦФЮЩ ТШФХЮ-бваЮЪШ  Т
В°Б ЮвТЮФШвбп ФТР бЫЮТР. їХаТЮХ бЫЮТЮ бЮФХаЦШв	ТШавгРЫмЭлЩ  РФаХб
ЭРзРЫР бваЮЪШ. ІвЮаЮХ бЫЮТЮ бЮФХаЦШв  Т  аРЧапФРе  11..4  ЧЭРзХЭШХ
аХУШбваР ФШбЯХвзХаР ЯРЬпвШ ФЫп ЮвЮСаРЦХЭШп ЭРзРЫР бваЮЪШ Т ЬЫРФиШХ
4є ЮЪЭР; аРЧапФл  1..0	-  ТШФХЮ-аХЦШЬ	(vm1,  vm2,  vm40,  vm41);
аРЧапФл  15..14  -  ЭЮЬХа  ЯРЫШвал  (pl0,  pl1,  pl2,  pl3).   їаШ
ШбЯЮЫмЧЮТРЭШШ Т ЯаЮУаРЬЬРе "ТвЮале  бЫЮТ"  бЫХФгХв  гзШвлТРвм  звЮ
ЭХЯЮбаХФбвТХЭЭЮХ ЪЮЯШаЮТРЭШХ Т аХУШбва ФШбЯХвзХаР ЯРЬпвШ  ЯаШТХФсв
Ъ ТЪЫозХЭШо "ЯаЮЧаРзЭЮУЮ" аХЦШЬР.

;------------------------
     ГФРЫШвм ШЭдЮаЬРжШо Ю ЯЫЮбЪЮбвШ ШЧ ЮЪЮЭЭЮЩ	бШбвХЬл,  Р  вРЪЦХ
ТбХ ТШФл, бТпЧРЭЭлХ б ФРЭЭЮЩ ЯЫЮбЪЮбвмо (ЪЮФ ЧРЯаЮбР 2):

ARKILL	  area,anum

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;

     anum - ШФХЭвШдШЪРвЮа ЯЫЮбЪЮбвШ, ЪЮвЮаго ЭХЮСеЮФШЬЮ гФРЫШвм;
;------------------------
     БЮЧФРвм В°Б Ш ЧРаХУШбваШаЮТРвм ЯЫЮбЪЮбвм  Т  ЮЪЮЭЭЮЩ  бШбвХЬХ
(ЪЮФ ЧРЯаЮбР 38):

ARCRE	  area,adr,lins,slen,mdpl

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;

     adr - ТШавгРЫмЭлЩ РФаХб Т ЯаЮУаРЬЬХ ЯЮЫмЧЮТРвХЫп,	ЭРзШЭРп  б
ЪЮвЮаЮУЮ СгФХв аРЧЬХйРвмбп  ЯЫЮбЪЮбвм;	ХбЫШ  ЭХ  СгФХв  ЮиШСЮЪ  Ш
ЯЫЮбЪЮбвм СгФХв ЧРаХУШбваШаЮТРЭР, вЮ Т вРСЫШжХ	area  (2-Х  бЫЮТЮ)
СгФХв ТЮЧТаРйсЭ ШФХЭвШдШЪРвЮа ЯЫЮбЪЮбвШ;

     lins - ЪЮЫШзХбвТЮ бваЮЪ ЭР ЯЫЮбЪЮбвШ;

     slen - ФЫШЭР ЮФЭЮЩ бваЮЪШ Т СРЩвРе;

     mdpl - бЮФХаЦШв ТШФХЮаХЦШЬ Ш ЭЮЬХа  ШбЯЮЫмЧгХЬЮЩ  ЯРЫШвал	(Т
дЮаЬРвХ ЪЮЭбвРЭв, ЮЯШбРЭЭле ТлиХ);

	  5.3.2. АРСЮвР б ТШФРЬШ
	  ””””””””””””””””””””””
;------------------------
     БЮЧФРвм ШЫШ ЬЮФШдШжШаЮТРвм ЯРаРЬХвал ТШФР (ЪЮФ ЧРЯаЮбР 4):

VWCRE	  area,wnum,anum,ary,arx,sy1,sy2,sx1,sx2,den

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;

     wnum - ХбЫШ ФРЭЭлЩ РаУгЬХЭв аРТХЭ 0, вЮ СгФХв  бЮЧФРЭ  ТШФ  Т
бЮЮвТХвбвТШШ б ЮбвРЫмЭлЬШ РаУгЬХЭвРЬШ ЧРЯаЮбР;	ЯЮбЫХ  ЭЮаЬРЫмЭЮУЮ
ТлЯЮЫЭХЭШп ЧРЯаЮбР ТЮ ТвЮаЮЬ бЫЮТХ вРСЫШжл  area  СгФХв  ТЮЧТаРйсЭ
ШФХЭФШдШЪРвЮа бЮЧФРЭЭЮУЮ ТШФР; ХбЫШ РаУгЬХЭв ЭХ аРТХЭ  0,  вЮ  нвЮ
ШФХЭвШдШЪРвЮа ТШФР, ЯРаРЬХвал ЪЮвЮаЮУЮ ЭХЮСеЮФШЬЮ ЬЮФШдШжШаЮТРвм;

     anum - ШФХЭвШдШЪРвЮа ЯЫЮбЪЮбвШ;

	  ЪЮЮаФШЭРвл ТХаеЭХУЮ ЫХТЮУЮ гУЫР ЭР ЯЫЮбЪЮбвШ:

     ary - ЭЮЬХа бваЮЪШ ЭР ЯЫЮбЪЮбвШ;

     arx - бЬХйХЭШХ Т СРЩвРе ЮвЭЮбШвХЫмЭЮ ЭРзРЫР ТШФХЮ-бваЮЪ;

	  ЪЮЮаФШЭРвл ТШФР ЭР нЪаРЭХ:

     sy1 - ЭЮЬХа ТХаеЭХЩ бваЮЪШ ЭР нЪаРЭХ;

     sy2 - ЭЮЬХа ЭШЦЭХЩ бваЮЪШ ЭР нЪаРЭХ;

     sx1 - ЭЮЬХа ЫХТЮЩ ЯЮЫЮбЪШ ЭР нЪаРЭХ;

     sx2 - ЭЮЬХа ЯаРТЮЩ ЯЮЫЮбЪШ ЭР нЪаРЭХ;

     den - ЯРаРЬХва, ЮЯаХФХЫпойШЩ  ЬРбивРСШаЮТРЭШХ;  ЬЫРФиШЩ  СРЩв
ЮЯаХФХЫпХв ЬРбивРСШаЮТРЭШХ ЯЮ УЮаШЧЮЭвРЫШ (0 - аРбвпЦЪР Т 4  аРЧР,
1 - аРбвпЦЪР Т 2 аРЧР, 2 - ЭХв аРбвпЦЪШ); бвРаиШЩ СРЩв	ЮЯаХФХЫпХв
ЬРбивРСШаЮТРЭШХ ЯЮ ТХавШЪРЫШ (0 - аРбвпЦЪР Т 4 аРЧР, 1 -  аРбвпЦЪР
Т 2 аРЧР, 2 - ЭХв аРбвпЦЪШ);
;------------------------
     ГФРЫШвм ТШФ (ЪЮФ ЧРЯаЮбР 6):

VWKILL	  area,wnum

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;

     wnum - ШФХЭвШдШЪРвЮа ТШФР, ЪЮвЮалЩ ЭХЮСеЮФШЬЮ гФРЫШвм;

;-------------------------
     їЮЫгзШвм ЯРаРЬХвал ТШФР (ЪЮФ ЧРЯаЮбР 8):

VWTAKE	  area,wnum

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;

     wnum -  ШФХЭвШдШЪРвЮа  ТШФР,  ЯРаРЬХвал  ЪЮвЮаЮУЮ	ЭХЮСеЮФШЬЮ
ЯЮЫгзШвм;  ЯРаРЬХвал  ТЮЧТаРйРовбп  Т  вРСЫШжг	area  Т   дЮаЬРвХ,
ШФХЭвШзЭЮЬ ЧРЯаЮбг VWCRE;
;-------------------------
     БФХЫРвм ТШФ бРЬлЬ ЯаШЮаШвХвЭлЬ (ЪЮФ ЧРЯаЮбР 10):

VWFORE	  area,wnum

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;

     wnum  -  ШФХЭвШдШЪРвЮа  ТШФР,  ЪЮвЮалЩ  СгФХв  бФХЫРЭ   бРЬлЬ
ЯаШЮаШвХвЭлЬ;

;-------------------------
     БФХЫРвм ТШФ ЭРШЬХЭХХ ЯаШЮаШвХвЭлЬ (ЪЮФ ЧРЯаЮбР 12):

VWBACK	  area,wnum

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;

     wnum - ШФХЭвШдШЪРвЮа  ТШФР,  ЪЮвЮалЩ  СгФХв  бФХЫРЭ  ЭРШЬХЭХХ
ЯаШЮаШвХвЭлЬ;

;-------------------------
     їаЮбЬЮва бЯШбЪР ТШФЮТ, ЧРаХУШбваШаЮТРЭЭле Т  ЮЪЮЭЭЮЩ  бШбвХЬХ
(ЪЮФ ЧРЯаЮбР 34):

VWLOOK	  area,wnum

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;

     wnum - ХбЫШ ФРЭЭлЩ РаУгЬХЭв аРТХЭ 0, вЮ ТЮ ТвЮаЮЬ бЫЮТХ  area
ТЮЧТаРйРХвбп ШФХЭвШдШЪРвЮа ЯХаТЮУЮ ТШФР (ЭРШСЮЫХХ  ЯаШЮаШвХвЭЮУЮ),
ЧР ЪЮвЮалЬ СгФгв  бЫХФЮТРвм  ЮбвРЫмЭлХ	ЯРаРЬХвал  ТШФР;  ХбЫШ	ТЮ
ТвЮаЮЬ	бЫЮТХ  area  ЭРеЮФШвбп	ШФХЭвШдШЪРвЮа	ТШФР,	вЮ   СгФХв
ТЮЧТаРйХЭР ШЭдЮаЬРжШп Ю бЫХФгойХЬ ТШФХ; ХбЫШ вХЪгйШЩ ТШФ ЯЮбЫХФЭШЩ
(ЭРШЬХЭХХ ЯаШЮаШвХвЭлЩ), вЮ ТЮ ТвЮаЮЬ бЫЮТХ area  СгФХв  ТЮЧТаРйсЭ
0;

	  5.3.3. АРСЮвР б ЯРЫШваРЬШ
	  ”””””””””””””””””””””””””

     їРЫШваР ЯаХФбвРТЫпХв бЮСЮЩ ЭРСЮа жТХвЮТ,  Т  ЪЮвЮаЮЬ  ЪРЦФЮЬг
ЪЮФг  вЮзЪШ  бЮЮвТХвбвТгХв   бТЮЩ   жТХв,   ЧРФРТРХЬлЩ	 аРЧапФРЬШ
(ШЭвХЭбШТЭЮбвпЬШ) ЯЮ ЪЮЬЯЮЭХЭвРЬ R, G Ш B (ФТгЬп СРЩвРЬШ - ЬЫРФиШЬ
Ш бвРаиШЬ) бЫХФгойШЬ ЮСаРЧЮЬ:


  7  6	5  4  3  2  1  0   7  6  5  4  3  2  1	0
 ¤¤¤¤¤¤¤¤¦¤¤¤¤¤¤¤¤¦¤¤¤¤¤Ў  ¤¤¤¤¤¤¤¤¦¤¤¤¤¤¦¤¤¤¤¤¤¤¤Ў
ҐG5 G4 G3ҐR4 R3 R2ҐB4 B3Ґ ҐG2 G1 G0ҐR1 R0ҐB2 B1 B0Ґ
Ј¤¤¤¤¤¤¤¤Ё¤¤¤¤¤¤¤¤Ё¤¤¤¤¤ў Ј¤¤¤¤¤¤¤¤Ё¤¤¤¤¤Ё¤¤¤¤¤¤¤¤ў
 Ј¤¤¦¤¤¤ў Ј¤¤¦¤¤¤ў Ј¤¦¤ў   Ј¤¤¦¤¤¤ў Ј¤¦¤ў Ј¤¤¦¤¤¤ў
    Ґ	     Ґ	     Ј¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ў
    Ґ	     Ґ		      Ґ       Ґ
    Ґ	     Ґ		      Ґ       Ґ
    Ґ	     Ј¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ў
    Ґ			      Ґ
    Ґ			      Ґ
    Ј¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ў

     їЮЫЭРп ШЭдЮаЬРжШп	Ю  ТШФХЮЪЮЭваЮЫЫХаХ  Ш,  Т  вЮЬ  зШбЫХ,  Ю
ЯРЫШваРе  ЯаШТЮФШвбп  Т  вХеЭШзХбЪЮЬ  ЮЯШбРЭШШ.  їРЫШвал  ТлбЮЪЮУЮ
аРЧаХиХЭШп ЧРЭШЬРов 32 СРЩвР ЪРЦФРп (16 бвРаиШе СРЩв жТХвР Ш 16  -
ЬЫРФиШе). їРЫШвал ЬЭЮУЮжТХвЭЮУЮ аХЦШЬР ЧРЭШЬРов  512  СРЩв  ЪРЦФРп
(256 бвРаиШе СРЩв Ш 256 - ЬЫРФиШе).

;-------------------------
     ·РеТРвШвм ЯРЫШваг (ЪЮФ ЧРЯаЮбР 14):

PLCREx	  area,modnum

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;

     modnum  -	ТШФХЮаХЦШЬ,  ФЫп  ЪЮвЮаЮУЮ  СгФХв   ШбЯЮЫмЧЮТРвмбп
ЯРЫШваР; ТШФХЮаХЦШЬ ФЮЫЦХЭ ЧРФРТРвмбп ЪЮЭбвРЭвРЬШ (vm1, vm2, vm40,
vm41, vm8); ЭРзШЭРп б ваХвмХУЮ бЫЮТР вРСЫШжл area ФЮЫЦЭл бЫХФЮТРвм
32 СРЩвР (512 СРЩв ФЫп ЬЭЮУЮжТХвЭЮУЮ аХЦШЬР), ЮЯаХФХЫпойШХ жТХвР Т
бЮЮвТХвбвТШШ б ТШФХЮаХЦШЬЮЬ; Т нвЮЬ ЦХ (ТвЮаЮЬ) бЫЮТХ вРСЫШжл area
СгФХв ТЮЧТаРйсЭ ЭЮЬХа ТлФХЫХЭЭЮЩ ЯРЫШвал Т дЮаЬРвХ  ЪЮЭбвРЭв  pl0,
pl1, pl2, pl3 Ш plb; ХбЫШ ТбХ ЯРЫШвал ваХСгХЬЮУЮ аХЦШЬР ЧРЭпвл, вЮ
ЧРЯаЮб ТлЯЮЫЭШвбп б ЮиШСЪЮЩ;

;-------------------------
     ѕбТЮСЮФШвм ЯРЫШваг (ЪЮФ ЧРЯаЮбР 16):

PLFREx	  area,modnum

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;

     modnum - ТШФХЮаХЦШЬ, ФЫп ЪЮвЮаЮУЮ СгФХв ЮбТЮСЮЦФХЭР  ЯРЫШваР;
ТШФХЮаХЦШЬ ФЮЫЦХЭ ЧРФРТРвмбп ЪЮЭбвРЭвРЬШ (vm1,	vm2,  vm40,  vm41,
vm8); ЭЮЬХа ЯРЫШвал, ЪЮвЮаРп  ФЮЫЦЭР  Слвм  ЮбТЮСЮЦФХЭР,  Ш  ЭЮЬХа
СЫЮЪР ЯРЫШва ЧРФРовбп Т дЮаЬРвХ ЪЮЭбвРЭв pl0, pl1, pl2, pl3 Ш plb;
нвШЬ ЧРЯаЮбЮЬ ЬЮЦЭЮ ЮбТЮСЮФШвм "згЦго" ЯРЫШваг (ЧРеТРзХЭЭго ФагУШЬ
ЯаЮжХббЮЬ);


;-------------------------
     ІлЯЮЫЭШвм ЬЮФШдШЪРжШо ЯРЫШвал (ЪЮФ ЧРЯаЮбР 18):

PLMODx	  area,modnum

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;

     modnum  -	ТШФХЮаХЦШЬ,  ФЫп  ЪЮвЮаЮУЮ  СгФХв   ЬЮФШдШжШаЮТРЭР
ЯРЫШваР; ТШФХЮаХЦШЬ ФЮЫЦХЭ ЧРФРТРвмбп ЪЮЭбвРЭвРЬШ (vm1, vm2, vm40,
vm41, vm8); ЭЮЬХа СЫЮЪР Ш ЯРЫШвал ЧРФРсвбп Т дЮаЬРвХ ЪЮЭбвРЭв pl0,
pl1, pl2, pl3, plb;

     ЭРзШЭРп б ваХвмХУЮ бЫЮТР вРСЫШжл  area  ФЮЫЦЭл  бЫХФЮТРвм	32
СРЩв (512 СРЩв ФЫп ЬЭЮУЮжТХвЭЮУЮ аХЦШЬР), ЮЯаХФХЫпойШХ ЭЮТлХ жТХвР
Т бЮЮвТХвбвТШШ б ТШФХЮаХЦШЬЮЬ;
     ФРЭЭлЬ ЧРЯаЮбЮЬ ЬЮЦЭЮ ЬЮФШдШжШаЮТРвм "згЦго" ЯРЫШваг;

;-------------------------
     БЮеаРЭШвм (ЯаЮзШвРвм) бЮФХаЦШЬЮХ ЯРЫШвал (ЪЮФ ЧРЯаЮбР 20):

PLSAVx	  area,modnum

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;

     modnum - ТШФХЮаХЦШЬ, ФЫп ЪЮвЮаЮУЮ	СгФХв  бЮеаРЭХЭР  ЯРЫШваР;
ТШФХЮаХЦШЬ ФЮЫЦХЭ ЧРФРТРвмбп ЪЮЭбвРЭвРЬШ (vm1,	vm2,  vm40,  vm41,
vm8); ЭЮЬХа СЫЮЪР Ш ЯРЫШвал ЧРФРовбп Т дЮаЬРвХ ЪЮЭбвРЭв pl0,  pl1,
pl2, pl3, plb;

     ЭРзШЭРп б ваХвмХУЮ бЫЮТР вРСЫШжл  area  СгФгв  ТЮЧТаРйХЭл	32
СРЩвР (512 СРЩв  ФЫп  ЬЭЮУЮжТХвЭЮУЮ  аХЦШЬР),  ЮЯаХФХЫпойШХ  жТХвР
ЯРЫШвал;
     ФРЭЭлЬ ЧРЯаЮбЮЬ ЬЮЦЭЮ бЮеаРЭШвм бЮФХаЦШЬЮХ "згЦЮЩ" ЯРЫШвал.


	  5.3.4. АРСЮвР б ЪгабЮаЮЬ
	  ””””””””””””””””””””””””

;-------------------------
     ГбвРЭЮТШвм ЪгабЮа (ЯХаХЪаХбвШХ) ШЫШ  ШЧЬХЭШвм  ХУЮ  ЯЮЫЮЦХЭШХ
(ЪЮФ ЧРЯаЮбР 22):

CRSET	  area,xcur,ycur

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;
     xcur - ЪЮЮаФШЭРвР ЪгабЮаР ЯЮ ЮбШ З (ФШРЯРЧЮЭ 0-415);
     ycur - ЪЮЮаФШЭРвР ЪгабЮаР ЯЮ ЮбШ Ѕ (ФШРЯРЧЮЭ 0-299);

;-------------------------
     ГСаРвм ЪгабЮа б нЪаРЭР (ЪЮФ ЧРЯаЮбР 24):

CRERA	  area

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;

	  5.3.5. АРСЮвР бЮ иаШдвРЬШ
	  ”””””””””””””””””””””””””

;-------------------------
     ·РаХУШбваШаЮТРвм ЭЮТлЩ иаШдв Т ЮЪЮЭЭЮЩ бШбвХЬХ  (ЪЮФ  ЧРЯаЮбР
26):

FNINST	  area,par

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;

     par - бЮФХаЦШЬЮХ аХУШбваР ФШбЯХвзХаР ЯРЬпвШ  ФЫп  ЮвЮСаРЦХЭШп
иаШдвР;

;-------------------------
     ГФРЫШвм иаШдв ШЧ ЮЪЮЭЭЮЩ бШбвХЬл (ЪЮФ ЧРЯаЮбР 28):

FNKILL	  area,par

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;

     par - бЮФХаЦШЬЮХ аХУШбваР ФШбЯХвзХаР ЯРЬпвШ  ФЫп  ЮвЮСаРЦХЭШп
иаШдвР, ЪЮвЮалЩ ЭгЦЭЮ гФРЫШвм ШЧ ЮЪЮЭЭЮЩ бШбвХЬл;

;-------------------------
     ІХаЭгвм бЮФХаЦШЬЮХ аХУШбваР ФШбЯХвзХаР ЯРЬпвШ ФЫп ЮвЮСаРЦХЭШп
иаШдвР ЯЮ ХУЮ ШЬХЭШ (ЪЮФ ЧРЯаЮбР 30):

FNFIND	  area

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;

     ЅРзШЭРп б ваХвмХУЮ бЫЮТР вРСЫШжл area ФЮЫЦЭЮ аРЧЬХйРвмбп  ШЬп
ШбЪЮЬЮУЮ иаШдвР Т  дЮаЬРвХ  .asciz;  ХбЫШ  ваХСгХЬлЩ  иаШдв  СгФХв
ЭРЩФХЭ,  вЮ  ТЮ  ТвЮаЮЬ  бЫЮТХ	area  СгФХв  ЭРеЮФШвбп	бЮФХаЦШЬЮХ
аХУШбваР ФШбЯХвзХаР ЯРЬпвШ ФЫп ЮвЮСаРЦХЭШХ нвЮУЮ иаШдвР;

;-------------------------
     їаЮбЬЮва бЯШбЪР иаШдвЮТ, ЧРаХУШбваШаЮТРЭЭле Т ЮЪЮЭЭЮЩ бШбвХЬХ
(ЪЮФ ЧРЯаЮбР 32):

FNLOOK	  area,xpar

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;

     xpar - ХбЫШ ФРЭЭлЩ РаУгЬХЭв аРТХЭ 0, вЮ ТЮ ТвЮаЮЬ бЫЮТХ  area
ТЮЧТаРйРХвбп РФаХб ФХбЪаШЯвЮаР ЯХаТЮУЮ иаШдвР,	ЧР  ЪЮвЮалЬ  СгФХв
бЫХФЮТРвм ХУЮ ШЬп Т дЮаЬРвХ .asciz;  ХбЫШ  ТЮ  ТвЮаЮЬ  бЫЮТХ  area
ЭРеЮФШвбп РФаХб ФХбЪаШЯвЮаР иаШдвР, вЮ СгФХв ТЮЧТаРйХЭР ШЭдЮаЬРжШп
Ю бЫХФгойХЬ иаШдвХ; ХбЫШ вХЪгйШЩ иаШдв	ЯЮбЫХФЭШЩ,  вЮ	ТЮ  ТвЮаЮЬ
бЫЮТХ area СгФХв ТЮЧТаРйсЭ 0;

	  5.3.6. ·ЭРЪЮЬХбвЭлЩ ТлТЮФ
	  ”””””””””””””””””””””””””

;-------------------------
     ІлТЮФ вХЪбвЮТЮЩ (ЧЭРЪЮЬХбвЭЮЩ) ШЭдЮаЬРжШШ ЭР  ЯЫЮбЪЮбвм  (ЪЮФ
ЧРЯаЮбР 36):

WPRINT	  area,anum,y0,x0,sadr

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;

     anum  -  ШФХЭвШдШЪРвЮа  ЯЫЮбЪЮбвШ,  ЭР   ЪЮвЮаго	ЭХЮСеЮФШЬЮ
ТлТЮФШвм ШЭдЮаЬРжШо; ЯЮ ЯЫЮбЪЮбвШ ЮЯаХФХЫпХвбп Т ЪРЪЮЬ аХЦШЬХ (СШв
ЭР вЮзЪг) СгФХв ЮбгйХбвТЫпвмбп ТлТЮФ;

     y0 - ЭЮЬХа ТШФХЮ-бваЮЪШ, ЭРзШЭРп б  ЪЮвЮаЮЩ  СгФХв  ТлТЮФШвбп
ШЭдЮаЬРжШп;

     x0 - бЬХйХЭШХ Т СРЩвРе Юв ЭРзРЫР бваЮЪШ ЭР ЯЫЮбЪЮбвШ, ЭРзШЭРп
б ЪЮвЮаЮЩ СгФХв ТлТЮФШвбп ШЭдЮаЬРжШп;

     sadr - РФаХб ЪЮФЮТЮЩ бваЮЪШ Т  дЮаЬРвХ  .asciz,  ЮЯаХФХЫпойХЩ
бЮФХаЦШЬЮХ ТлТЮФШЬЮЩ ШЭдЮаЬРжШШ;

     їЮбЫХФЭШЩ РаУгЬХЭв ЧРЯаЮбР WPRINT	ЮЯаХФХЫпХв  РФаХб  бваЮЪШ,
ТлТЮФШЬЮЩ    ЭР    ЯЫЮбЪЮбвм.	 БваЮЪР     ЯаХФбвРТЫпХв     бЮСЮЩ
ЯЮбЫХФЮТРвХЫмЭЮбвм  СРЩв.  ±РЩвл,  бЮФХаЦРйШХ  ЪЮФл  Юв  0  ФЮ	37
(ТЮбмЬХаШзЭЮХ),  пТЫповбп  ЪЮЬРЭФРЬШ.  АРЧЫШзЭлХ   ЪЮЬРЭФл   ЬЮУгв
бЮбвЮпвм  ШЧ  ЮФЭЮУЮ  ШЫШ  СЮЫХХ  СРЩв,  звЮ  ЮЯаХФХЫпХвбп   бРЬЮЩ
ЪЮЬРЭФЮЩ. їаШ ЮЯШбРЭШШ ЪЮЬРЭФ Т ЭРзРЫХ ЯаШТЮФШвбп ТЮбмЬХаШзЭлЩ ЪЮФ
ЪЮЬРЭФл. °аУгЬХЭвл ТбХе ЪЮЬРЭФ пТЫповбп СРЩвЮТлЬШ.

     ВХЪгйРп  ТХабШп  ЮЪЮЭЭЮЩ  бШбвХЬл  ЯЮФФХаЦШТРХв  ЧЭРЪЮЬХбвЭлЩ
ТлТЮФ Ш дЮаЬРв иаШдвР аРЧЬХаЭЮбвмо 10е8.
     ИШаШЭР ЮФЭЮУЮ ЧЭРЪЮЬХбвР ЯаШ ТлТЮФХ ЭР ЯЫЮбЪЮбвм 1  СШв/вЮзЪг
аРТЭР ЮФЭЮЬг СРЩвг, ЯаШ ТлТЮФХ 2  СШвР/вЮзЪг  -  2-Ь  СРЩвРЬ,  ЯаШ
ТлТЮФХ 4 СШвР/вЮзЪг - 4-Ь СРЩвРЬ, ЯаШ ТлТЮФР 8	СШв/вЮзЪг  -  8-ЬШ
СРЩвРЬ.

     БЯШбЮЪ ЪЮЬРЭФ:

     0	  - ФРЭЭРп  ЪЮЬРЭФР  СХЧ  РаУгЬХЭвЮТ  Ш  ЮЯаХФХЫпХв  ЪЮЭХж
ТлТЮФШЬЮЩ бваЮЪШ;

     1	  -  ЪЮЬРЭФР  бЬХЭл  иаШдвР;  ЧР  ЪЮФЮЬ  ЪЮЬРЭФл   бЫХФгХв
РСбЮЫовЭлЩ ЭЮЬХа иаШдвР  (Т  бЯШбЪХ  ЮЪЮЭЭЮЩ  бШбвХЬл);  ТлСаРЭЭлЩ
иаШдв СгФХв ШбЯЮЫмЧЮТРвмбп ФЮ бЫХФгойХЩ ЪЮЬРЭФл бЬХЭл  иаШдвР;	ЯЮ
гЬЮЫзРЭШо ТлТЮФ СгФХв ТлЯЮЫЭпвмбп б ШбЯЮЫмЧЮТРЭШХЬ иаШдвР ЭЮЬХа 0;

     2	  - ЪЮЬРЭФР бЬХйХЭШп ЭР  ЯЫЮбЪЮбвШ  ЮвЭЮбШвХЫмЭЮ  вХЪгйХУЮ
ЯЮЫЮЦХЭШп ЯЮ ЮбШ X Т СРЩвРе; бЬХйХЭШХ ЧРФРсвбп	СРЩвЮЬ,  бЫХФгойШЬ
ЧР   ЪЮФЮЬ   ЪЮЬРЭФл;	ЯЮ   гЬЮЫзРЭШо	 ТлТЮФ	  ТлЯЮЫЭпХвбп	 Т
"ЯЮбЫХФЮТРвХЫмЭлХ   ЧЭРЪЮЬХбвР";   бЬХйХЭШХ   ЬЮЦХв    ТлЯЮЫЭпвмбп
"ТЯХасФ", ХбЫШ бЬХйХЭШХ ЯЮЫЮЦШвХЫмЭЮХ  зШбЫЮ,  ШЫШ  "ЭРЧРФ",  ХбЫШ
зШбЫЮ ЮваШжРвХЫмЭЮХ;

     3	  - ЪЮЬРЭФР бЬХйХЭШп ЭР  ЯЫЮбЪЮбвШ  ЮвЭЮбШвХЫмЭЮ  вХЪгйХУЮ
ЯЮЫЮЦХЭШп ЯЮ ЮбШ Y Т бваЮЪРе; бЬХйХЭШХ ЧРФРсвбп СРЩвЮЬ,  бЫХФгойШЬ
ЧР ЪЮФЮЬ ЪЮЬРЭФл; бЬХйХЭШХ ЬЮЦХв ТлЯЮЫЭпвмбп "ТЭШЧ", ХбЫШ бЬХйХЭШХ
ЯЮЫЮЦШвХЫмЭЮХ зШбЫЮ, ШЫШ "ТТХае", ХбЫШ зШбЫЮ ЮваШжРвХЫмЭЮХ;

     4	  - ЪЮЬРЭФР ЧРФРсв ЬРбЪг (ТвЮаЮЩ  СРЩв	ЪЮЬРЭФл),  ЪЮвЮаРп
СгФХв ЮЯаХФХЫпвм ЫЮУШзХбЪго ЮЯХаРжШо XOR ЯаШ ТлТЮФХ ТбХе бЫХФгойШе
ЧЭРЪЮЬХбв;  ХбЫШ  ЬРбЪР  =  0,	вЮ  ЯаХЮСаРЧЮТРЭШХ  ЧЭРЪЮЬХбвР	ЭХ
ТлЯЮЫЭпХвбп; ХбЫШ ЬРбЪР = 377 (ТЮбмЬХаШзЭЮХ зШбЫЮ),  вЮ  ТлТЮФШЬРп
ШЭдЮаЬРжШп СгФХв ШЭТХавШаЮТРвмбп;

     5	  -  ЪЮЬРЭФР  ТЪЫозРХв	"ЯаЮЧаРзЭлЩ  аХЦШЬ"   ЯаШ   ТлТЮФХ
ЧЭРЪЮЬХбв;

     6	  - ЪЮЬРЭФР  ТлЪЫозРХв	"ЯаЮЧаРзЭлЩ  аХЦШЬ"  ТлТЮФР,  в.Х.
ТЪЫозРХв ЭЮаЬРЫмЭлЩ аХЦШЬ; ЭЮаЬРЫмЭлЩ аХЦШЬ  ТлТЮФР  ФХЩбвТгХв	ЯЮ
гЬЮЫзРЭШо;

     7	  - ЪЮЬРЭФР ЧРФРЭШп жТХвР; ТвЮаЮЩ СРЩв ЪЮЬРЭФл	ЮЯаХФХЫпХв
ЪЮФл жТХвЮТ  (ЮЯХаРвШТЭлЩ  Ш  дЮЭЮТлЩ),  ШбЯЮЫмЧгХЬле  ЯаШ  ТлТЮФХ
ЧЭРЪЮЬХбв; ФРЭЭРп ЪЮЬРЭФР ШУЭЮаШагХвбп ЯаШ ТлТЮФХ ЭР  ЯЫЮбЪЮбвм  Т
аХЦШЬХ 1 СШв ЭР вЮзЪг; ЬЫРФиШЩ ЯЮЫгСРЩв ЮЯаХФХЫпХв ЪЮФ жТХвР дЮЭР,
Р  бвРаиШЩ  ЯЮЫгСРЩв  -  ЪЮФ  жТХвР,  ЪЮвЮалЬ	СгФХв	ТлТЮФШвмбп
ЧЭРЪЮЬХбвЮ;

     10   - ЮФЭЮСРЩвЮТРп  ЪЮЬРЭФР,  нЪТШТРЫХЭвЭРп  "4,0"  -  ТлТЮФ
ЧЭРЪЮЬХбвР ЯаЮШЧТЮФШвбп СХЧ ЯаХЮСаРЧЮТРЭШп;

     11   -  ЮФЭЮСРЩвЮТРп   ЪЮЬРЭФР,   нЪТШТРЫХЭвЭРп   "4,377"	 -
ЯаЮШЧТЮФШвбп ТлТЮФ ЧЭРЪЮЬХбвР б ЯаХФТРаШвХЫмЭлЬ ШЭТХавШаЮТРЭШХЬ;

     12   - ЪЮЬРЭФР бЬХйХЭШп ЭР  ЯЫЮбЪЮбвШ  ЮвЭЮбШвХЫмЭЮ  вХЪгйХУЮ
ЯЮЫЮЦХЭШп ЯЮ ЮбШ X  Т  ЧЭРЪЮЬХбвРе,  в.Х.  ЭХ  ЧРТШбШв	Юв  аХЦШЬР
ЯЫЮбЪЮбвШ (СШв/вЮзЪг);	бЬХйХЭШХ  ЧРФРсвбп  СРЩвЮЬ,  бЫХФгойШЬ	ЧР
ЪЮФЮЬ ЪЮЬРЭФл; ЯЮ гЬЮЫзРЭШо ТлТЮФ ТлЯЮЫЭпХвбп Т  "ЯЮбЫХФЮТРвХЫмЭлХ
ЧЭРЪЮЬХбвР"; бЬХйХЭШХ ЬЮЦХв ТлЯЮЫЭпвмбп  "ТЯХасФ",  ХбЫШ  бЬХйХЭШХ
ЯЮЫЮЦШвХЫмЭЮХ зШбЫЮ, ШЫШ "ЭРЧРФ", ХбЫШ зШбЫЮ ЮваШжРвХЫмЭЮХ;

     13   - ЪЮЬРЭФР бЬХйХЭШп ЭР  ЯЫЮбЪЮбвШ  ЮвЭЮбШвХЫмЭЮ  вХЪгйХУЮ
ЯЮЫЮЦХЭШп ЯЮ ЮбШ Y Т  ЧЭРЪЮЬХбвРе,  в.Х.  Т  ФХбпвЪРе  ТШФХЮбваЮЪ,
ЯЮбЪЮЫмЪг  10.	-  ТлбЮвР  "бвРЭФРавЭЮУЮ"  ЧЭРЪЮЬХбвР  Т  бваЮЪРе;
бЬХйХЭШХ ЧРФРсвбп СРЩвЮЬ, бЫХФгойШЬ  ЧР  ЪЮФЮЬ	ЪЮЬРЭФл;  бЬХйХЭШХ
ЬЮЦХв ТлЯЮЫЭпвмбп "ТЭШЧ", ХбЫШ бЬХйХЭШХ ЯЮЫЮЦШвХЫмЭЮХ  зШбЫЮ,  ШЫШ
"ТТХае", ХбЫШ зШбЫЮ ЮваШжРвХЫмЭЮХ;

     14   - ЧР ЪЮФЮЬ ЪЮЬРЭФл ФЮЫЦЭл бЫХФЮТРвм 10. СРЩв,  ЮЯаХФХЫп-
ойШе бЮФХаЦШЬЮХ ЧЭРЪЮЬХбвР, ЪЮвЮаЮХ СгФХв ТлТХФХЭЮ  ЭР	ЯЫЮбЪЮбвм;
ФРЭЭРп	 ЪЮЬРЭФР   ЯЮЧТЮЫпХв   ТлТЮФШвм   ЧЭРЪЮЬХбвР,	 ЭРЯаШЬХа,
ЮвбгвбвТгойШХ Т вХЪгйХЬ иаШдвХ;

     ІбХ ЮбвРЫмЭлХ ЪЮФл ЪЮЬРЭФ Т  ФРЭЭЮЩ  ТХабШШ  ЮЪЮЭЭЮЩ  бШбвХЬл
ЮваРСРвлТРовбп ЪРЪ "ЭХв ЮЯХаРжШШ", в.Х. ЪРЪ ЯгбвлХ ЪЮЬРЭФл.


	  5.3.7. ±ЫЮзЭлХ ЯХаХблЫЪШ
	  ””””””””””””””””””””””””

;-------------------------
     ±ЫЮзЭлХ ЯХаХблЫЪШ ЬХЦФг ЯЫЮбЪЮбвпЬШ Ш/ШЫШ ЯРЬпвмо Т ЯаЮУаРЬЬХ
ЯЮЫмЧЮТРвХЫп (ЪЮФ ЧРЯаЮбР 40):

HBMOVE	  area,ar1num,cmd,ar1y,ny,ar1x,nx,ar2num,ar2y,ar2x

     area - РФаХб вРСЫШжл РаУгЬХЭвЮТ;

     ar1num - ШФХЭвШдШЪРвЮа ЯЫЮбЪЮбвШ-1 (СРЩвЮТлЩ РаУгЬХЭв);

     cmd - ЪЮФ ЪЮЬРЭФл СЫЮзЭЮЩ ЯХаХблЫЪШ (СРЩвЮТлЩ РаУгЬХЭв);

     ar1y - ЭЮЬХа ЯХаТЮЩ бваЮЪШ ФЫп ЯХаХблЫЪШ ЭР ЯЫЮбЪЮбвШ-1;

     ny - ЪЮЫШзХбвТЮ бваЮЪ ЭР ЯЫЮбЪЮбвШ-1, гзРбвТгойШе Т  ЯХаХблЫ-
ЪХ;

     ar1x  -  бЬХйХЭШХ	Т  СРЩвРе   ЮвЭЮбШвХЫмЭЮ   ЫХТЮЩ   УаРЭШжл
ЯЫЮбЪЮбвШ-1 ФЫп ЯХаХблЫЪШ;

     nx - аРЧЬХа ЯапЬЮгУЮЫмЭЮЩ ЮСЫРбвШ ЯЮ УЮаШЧЮЭвРЫШ Т СРЩвРе	ЭР
ЯЫЮбЪЮбвШ-1 ФЫп ЯХаХблЫЪШ;

БЫХФгойШХ РаУгЬХЭвл ЧРЯаЮбР ЧРТШбпв Юв ТлЯЮЫЭпХЬЮЩ ЪЮЬРЭФл.

ЪЮЬРЭФР (1) ЯХаХблЫЪР ЯЫЮбЪЮбвм-2цЯЫЮбЪЮбвм-1:

     ar2num   -   ШФХЭвШдШЪРвЮа   ЯЫЮбЪЮбвШ-2,	  ЪЮвЮаРп    СгФХв
ШбЯЮЫмЧЮТРвмбп Т ЪРзХбвТХ ШбвЮзЭШЪР;  ЯЫЮбЪЮбвм-1  СгФХв  пТЫпвмбп
ЯаШсЬЭШЪЮЬ;
     ar2y - ЭЮЬХа ЯХаТЮЩ бваЮЪШ ФЫп ЯХаХблЫЪШ ШЧ ЯЫЮбЪЮбвШ-2;
     ar2x  -  бЬХйХЭШХ	Т  СРЩвРе   ЮвЭЮбШвХЫмЭЮ   ЫХТЮЩ   УаРЭШжл
ЯЫЮбЪЮбвШ-2 ФЫп ЯХаХблЫЪШ;

ЪЮЬРЭФР (2) ЯХаХблЫЪР ЯЫЮбЪЮбвм-1цЯРЬпвм:

     ar2num - ТШавгРЫмЭлЩ РФаХб ЭРзРЫР СгдХаР Т ЯРЬпвШ (ЪгФР СгФХв
ТлЯЮЫЭХЭР ЯХаХблЫЪР);
     ar2y - "ФЫШЭР" бваЮЪШ СгдХаР Т СРЩвРе; ХбЫШ "ФЫШЭР" аРТЭР	0,
вЮ бваЮЪШ ЯЫЮбЪЮбвШ ЧРЩЬгв ЭХЯаХалТЭго ЮСЫРбвм ЯРЬпвШ;
     ar2x - ЭХ ШбЯЮЫмЧгХвбп;

ЪЮЬРЭФР (3) ЯХаХблЫЪР ЯРЬпвмцЯЫЮбЪЮбвм-1:

     - ТбХ РаУгЬХЭвл ШЬХов бЬлбЫ, РЭРЫЮУШзЭлЩ бЫгзРо (2);

ЪЮЬРЭФР (4) ЯХаХблЫЪР ЪЮЭбвРЭвРцЯЫЮбЪЮбвм-1:

     ar2num  -	ЪЮЭбвРЭвР,   ЪЮвЮаЮЩ   СгФХв   ЧРЯЮЫЭХЭР   ЮСЫРбвм
ЯЫЮбЪЮбвШ-1 (ЮСЫРбвм ЮЯаХФХЫпХвбп ЯаХФлФгйШЬШ РаУгЬХЭвРЬШ);

±РЩв   ЪЮФР   ЪЮЬРЭФл	 ЮЯаХФХЫпХвбп	 бЫХФгойШЬШ    ЪЮЭбвРЭвРЬШ
(ТЮбмЬХаШзЭлЬШ):

v.mask	  =    200  ; ТЪЫозРХв аХЦШЬ ЯХаХблЫЪШ б гзсвЮЬ  "ЯаЮЧаРз-
		      ЭЮУЮ" жТХвР (ШЬХойХУЮ ЪЮФ 0);
v.dx	  =    100  ; ТЪЫозРХв ЯХаХблЫЪг Т ЮСаРвЭЮЬ ЭРЯаРТЫХЭШШ ЯЮ
		      УЮаШЧЮЭвРЫШ; Т  ЯаЮвШТЭЮЬ  бЫгзРХ  ЯХаХблЫЪР
		      ТлЯЮЫЭпХвбп Т ЯапЬЮЬ ЭРЯаРТЫХЭШШ
v.dy	  =    040  ; ТЪЫозРХв ЯХаХблЫЪг Т ЯапЬЮЬ  ЭРЯаРТЫХЭШШ	ЯЮ
		      ТХавШЪРЫШ;  Т  ЯаЮвШТЭЮЬ	бЫгзРХ	 ЯХаХблЫЪР
		      ТлЯЮЫЭпХвбп Т ЮСаРвЭЮЬ ЭРЯаРТЫХЭШШ

v.vp	  =    030  ; ЪЮЬРЭФР (2) ЯЫЮбЪЮбвм-1цЯРЬпвм
v.vv	  =    020  ; ЪЮЬРЭФР (1) ЯЫЮбЪЮбвм-2цЯЫЮбЪЮбвм-1
v.pv	  =    010  ; ЪЮЬРЭФР (3) ЯРЬпвмцЯЫЮбЪЮбвм-1
v.cv	  =    000  ; ЪЮЬРЭФР (4) ЪЮЭбвРЭвРцЯЫЮбЪЮбвм-1

     ЧРФРЭШХ ЫЮУШзХбЪШе ЮЯХаРжШЩ ЯаШ ЯХаХблЫЪХ
     (src - ШбвЮзЭШЪ, dst - ЯаШсЬЭШЪ):

v.bic	=    006  ; dst:=dst and not src
v.bis	=    004  ; dst:=dst or src
v.xor	=    002  ; dst:=dst xor src
v.mov	=    000  ; dst:=src

v.byte =     001  ; ТлЯЮЫЭШвм ЯЮСРЩвЮТго  ЯХаХблЫЪг;	Т  ЯаЮвШТЭЮЬ
		      бЫгзРХ СгФХв ТлЯЮЫЭпвмбп	ЯЮбЫЮТЭРп  ЯХаХблЫЪР
		      (РФаХбР  Ш  аРЧЬХал  аХЪЮЬХЭФгХвбп   гЪРЧлТРвм
		      зсвЭлЬШ)
    
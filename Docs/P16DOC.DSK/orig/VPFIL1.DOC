
          16. ДРЩЫЮТРп ЯЮФбШбвХЬР
							  13.09.90

     ДРЩЫЮТРп ЯЮФбШбвХЬР ЯаХФЭРЧЭРзХЭ  ФЫп  ЮСХбЯХзХЭШп  ЯаЮжХббЮТ 
баХФбвТРЬШ дРЩЫЮТЮУЮ ФЮбвгЯР, Р вРЪЦХ  ФЫп  РЭРЫШЧР  Ш  гЯаРТЫХЭШп 
аРСЮвЮЩ бШбвХЬл б ЯЮЬЮймо ЪЫРТШРвгал. ДРЩЫЮТРп ЯЮФбШбвХЬР бЮФХаЦШв 
бЫХФгойШХ ЯаЮжХббл:

File_Server    ¤ нЬгЫпвЮа  бвРЭФРавЭле	ЧРЯаЮбЮТ  ѕБ  вШЯР  RT¤11,
                 ЮСХбЯХзШТРойШе   ЮЯХаРжШШ    б    ЪРвРЫЮУРЬШ    Ш 
                 ТТЮФХТлТЮФ;

File_Manager   ¤ нЬгЫпвЮа ФЮЯЮЫЭШвХЫмЭле бХаТШбЭле ЧРЯаЮбЮТ,  ЯЮЧ¤
                 ТЮЫпойШе  ЮСХбЯХзШвм  ЯЮЫмЧЮТРвХЫмбЪШХ   ЯаЮжХббл 
                 ХФШЭлЬ  ШЭвХадХЩбЮЬ   ЯаШ   аРСЮвХ   б   ТЭХиЭШЬШ 
                 ЭРЪЮЯШвХЫпЬШ ФШбЪЮТЮУЮ вШЯР;

File_Comander  ¤ ЪЮЬРЭФЭлЩ ШЭвХадХЩб,  б  ЯЮЬЮймо  ЪЮвЮаЮУЮ  ЬЮЦЭЮ
                 ТлЯЮЫЭпвм ЮЯХаРжШШ б дРЩЫРЬШ, ЯаЮжХббРЬШ Ш в.Ф.

     ДРЩЫЮТлЩ ЬЮФгЫм аРЧЬХйРХвбп Т дРЩЫХ Fil.Prc.   ґЮЯЮЫЭШвХЫмЭРп
ШЭдЮаЬРжШп,  бТпЧРЭЭРп  б  ЮЯаХФХЫХЭШХЬ  ШбЯЮЫмЧгХЬле   аХУШбваЮТ, 
ЬРЪаЮЪЮЬРЭФл ФЮЯЮЫЭШвХЫмЭле бХаТШбЭле ЧРЯаЮбЮТ Ш в.Ф. бЮФХаЦШвбп Т 
дРЩЫХ Filmac.mac.

     їаЮжХбб File_Server гЯаРТЫпХвбп ЯЮбаХФбвТЮЬ ЮФЭЮУЮ аХУШбваР:

FilCSR	  ” 174060	 ; аХУШбва гЯаРТЫХЭШп

     ІбХ  ЧРЯаЮбл  Ъ  ФРЭЭЮЬг  ЯаЮжХббг  ШЬХов  (Т  ЪЮЭжХ  ЪЮЭжЮТ) 
бЫХФгойШЩ ТШФ:

     mov  #adr,     @#FilCSR  ;ЧРЯШбРвм РФаХб СЫЮЪР ЧРЯаЮбР
     ...
adr: .Blkw     X	      ;ЯРЬпвм ФЫп СЫЮЪР ЧРЯаЮбР

     їаЮжХбб File_Manager ЮСаРСРвлТРХв (ЮСбЫгЦШТРХв) ФТР аХУШбваР:

FMCSR	  ” 174062	 ; аХУШбва гЯаРТЫХЭШп
FMKCSR	  ” 174064	 ; аХУШбва ФЫп ТТЮФР б ЪЫРТШРвгал

     ІбХ ЧРЯаЮбл Ъ ФРЭЭЮЬг ЯаЮжХббг ШЬХов ТШФ, РЭРЫЮУШзЭлЩ  аРСЮвХ 
б аХУШбваЮЬ FilCSR.

     їаЮжХбб File_Comander ЮСбЫгЦШТРХв ЮФШЭ аХУШбва:

FCBUF	  ” 174066	 ; аХУШбва ФЫп ТТЮФР б ЪЫРТШРвгал

     їаЮУаРЬЬЭлХ ЧРЯаЮбл Ъ ФРЭЭЮЬг ЯаЮжХббг ЮвбгвбвТгов, ЯЮбЪЮЫмЪг 
ЯаЮжХбб гЯаРТЫпХвбп б ЪЫРТШРвгал.

	  16.1. АРСЮвР б ЯаЮжХббЮЬ File_Server

     ґЫп  аРСЮвл  б  File_Server  Т  вХЪбв   ЯаЮУаРЬЬл	 (ЯаЮжХббР
ЯЮЫмЧЮТРвХЫп)  ЭХЮСеЮФШЬЮ  ТЪЫозШвм  дРЩЫ  Filmac.mac  Ш   ТлЧТРвм
ЬРЪаЮЪЮЬРЭФг .FILES, ЭРЯаШЬХа:

	  ...
	  .include  "Filmac.mac"
	  ...
	  .FILES
	  ...

јРЪаЮЪЮЬРЭФР  .FILES  ЮСХбЯХзШТРХв  нЬгЫпжШо  бвРЭФРавЭле   ЬРЪаЮ¤
ЧРЯаЮбЮТ ѕБ вШЯР RT¤11 Ш ТлЯЮЫЭпХв бЫХФгойШХ дгЭЪжШШ:
     ¤ бвРвШзХбЪШ ШЭШжШРЫШЧШагХв ТХЪвЮа ШЭбвагЪжШШ EMT;
     ¤ бЮФХаЦШв  ЯЮФЯаЮУаРЬЬг,	ЮСаРСРвлТРойго	EMT¤ШЭбвагЪжШШ	 Ш
       "ваРЭбЫШагойго" Ше ЯаЮжХббг File_Server.

     ѕСХбЯХзШТРХвбп ТЮЧЬЮЦЭЮбвм ШбЯЮЫмЧЮТРвм бЫХФгойШХ бвРЭФРавЭлХ 
бШбвХЬЭлХ ЬРЪаЮЪЮЬРЭФл ѕБ вШЯР RT¤11:

.Close	  Chan
            ¤ ЧРЪалТРХв ЪРЭРЫ Ш ЮбТЮСЮЦФРХв  ХУЮ  ФЫп  ШбЯЮЫмЧЮТР¤ 
              ЭШп Т ФагУШе ЮЯХаРжШпе

.Cstat	  Area,Chan,Addr
            ¤ ЯЮЧТЮЫпХв ЯЮЫгзШвм ШЭдЮаЬРжШо Ю  бЮбвЮпЭШШ  ЮЯХаХФХ¤ 
              ЫХЭЭЮУЮ ЪРЭРЫР

.Delete   Area,Chan,Dblk
	(*) ¤ гФРЫпХв дРЩЫ ЭР гЪРЧРЭЭЮЬ гбваЮЩбвТХ

.Enter	  Area,Chan,Dblk,Len
	(*) ¤ аХЧХаТШагХв  ЮСЫРбвм  ЭР	гЪРЧРЭЭЮЬ  гбваЮЩбвТХ  ФЫп
              бЮЧФРЭШп ЭЮТЮУЮ дРЩЫР

.Exit
            ¤ ЧРТХаиРХв ЯаЮжХбб ЯЮЫмЧЮТРвХЫп (вХЪгйШЩ ЯаЮжХбб)

.Lookup   Area,Chan,Dblk
	(*) ¤ ЮвЪалТРХв бгйХбвТгойШЩ дРЩЫ ФЫп ТТЮФР ШХШЫШ ТлТЮФР

.Print	  Addr
            ¤ ТлТЮФШв вХЪбвЮТго бваЮЪг Т ЮЪЭЮ нЬгЫпвЮаР вХЪбвЮТЮУЮ 
	      ФШбЯЫХп вШЯР VT¤100

.Purge	  Chan
            ¤ ЮбТЮСЮЦФРХв гЪРЧРЭЭлЩ ЪРЭРЫ  (ФЫп  ЯЮбЫХФгойХУЮ  Шб¤ 
              ЯЮЫмЧЮТРЭШп)

.Readw	  Area,Chan,Buf,Wcnt,Blk
            ¤ бзШвлТРХв ФРЭЭлХ ЯЮ гЪРЧРЭЭЮЬг ЪРЭРЫг  б  гбваЮЩбвТР 
              (дРЩЫР)  Т  СгдХа  ЯРЬпвШ  Ш  ТЮЧТаРйРХв  гЯаРТЫХЭШХ 
              ЯаЮжХббг ЯЮбЫХ ЮЪЮЭзРЭШп ЮЯХаРжШШ

.Rename   Area,Chan,Dblk
	(*) ¤ ТлЯЮЫЭпХв ЯХаХШЬХЭЮТРЭШХ дРЩЫР

.Spfun	  Area,Chan,Func,Buf,Wcnt,Blk
            ¤ ТлЯЮЫЭпХв  бЯХжШРЫмЭлХ  дгЭЪжШШ  ФЫп  гбваЮЩбвТ  (ЯЮ 
              гЪРЧРЭЭЮЬг ЪРЭРЫг)

.Wait	  Chan
            ¤ ЮЦШФРХв ЧРТХаиХЭШп ЮЯХаРжШЩ ТТЮФРХТлТЮФР ЯЮ  гЪРЧРЭ¤ 
              ЭЮЬг ЪРЭРЫг;  ЮСлзЭЮ  ШбЯЮЫмЧгХвбп  ФЫп  ЮЯаХФХЫХЭШп 
              бТЮСЮФХЭ ШЫШ ЧРЭпв ЪРЭРЫ

.Writw	  Area,Chan,Buf,Wcnt,Blk
            ¤ ЧРЯШблТРХв ФРЭЭлХ ЯЮ  гЪРЧРЭЭЮЬг  ЪРЭРЫг  ШЧ  СгдХаР 
              ЯРЬпвШ ЭР гбваЮЩбвТЮ (дРЩЫ)

(*)  ЯЮЬХзХЭл ЧРЯаЮбл, ШЬХойШХ ЮбЮСХЭЭЮбвШ ЯаШ Ше ШбЯЮЫмЧЮТРЭШШ ЯЮ
баРТЭХЭШо  б  ѕБ;  бгйХбвТЮ  ЯаЮСЫХЬл  ЧРЪЫозРХвбп  Т   вЮЬ,   звЮ 
File_Server ШЬХХв ХФШЭЮХ ЯЮЫХ "ЫЮУШзХбЪШе  ЪРЭРЫЮТ",  ШбЯЮЫмЧгХЬле
ЭХбЪЮЫмЪШЬШ  ЯЮЫмЧЮТРвХЫмбЪШЬШ   ЯаЮжХббРЬШ;   ЪРЭРЫл   ТлФХЫповбп 
(аРбЯаХФХЫповбп)  ЯаЮжХббРЬ  ФШЭРЬШзХбЪШ  (ЯЮ   ЬХаХ   ЯЮбвгЯЫХЭШп 
ЧРЯаЮбЮТ);   ЯЮнвЮЬг   Т   ЮвЬХзХЭЭле	ЧРЯаЮбРе   РаУгЬХЭв   Chan
ШУЭЮаШагХвбп; ЯЮбЫХ ТлЯЮЫЭХЭШп ЧРЯаЮбР,  ХбЫШ  ЮЭ  ТлЯЮЫЭШЫбп  СХЧ 
ЮиШСЪШ, вЮ Т СРЩвХ б РФаХбЮЬ 52 (ЪгФР ЮСлзЭЮ ЧРЭЮбШвбп  гвЮзЭпойШЩ 
ЪЮФ ЮиШСЪШ) СгФХв ЭРеЮФШвбп  ЭЮЬХа  ЪРЭРЫР,  ТлФХЫХЭЭлЩ  ЯаЮжХббЮЬ 
File_Server; ШЬХЭЭЮ нвЮв ЭЮЬХа Ш бЫХФгХв гЪРЧлТРвм  Т  ЯЮбЫХФгойШе
ЧРЯаЮбРе  ТТЮФРХТлТЮФР;  ЭЮЬХа  ЪРЭРЫР  ТЮЧТаРйРХвбп  вЮЫмЪЮ   ФЫп 
ЧРЯаЮбЮТ .Lookup  Ш  .Enter;  ФЫп  ЮбвРЫмЭле  ЮвЬХзХЭЭле  ЧРЯаЮбЮТ
ТЮЧТаРйРвм  ЭЮЬХа  ЪРЭРЫР  ЭХ  ШЬХХв   бЬлбЫР,   ЯЮбЪЮЫмЪг   ЪРЭРЫ 
ШбЯЮЫмЧгХвбп вЮЫмЪЮ ФЫп ТлЯЮЫЭХЭШп бЮСбвТХЭЭЮ ЧРЯаЮбР, Ш ЯЮбЫХ ХУЮ 
ШбЯЮЫмЧЮТРЭШп ЮбТЮСЮЦФРХвбп.

     І бвРЭФРавЭЮЩ ѕБ ШЬХХвбп ваШ ЬЮФШдШЪРжШШ  ЮЯХаРжШЩ  "звХЭШп", 
"ЧРЯШбШ" Ш "бЯХжШРЫмЭРп дгЭЪжШп". ІбХ ваШ ЬЮФШдШЪРжШШ (б ЮЦШФРЭШХЬ 
ЧРТХаиХЭШп,  СХЧ  ЮЦШФРЭШп  ЧРТХаиХЭШп,  б  ТлЧЮТЮЬ   ЯЮФЯаЮУаРЬЬл 
ЧРТХаиХЭШп) ЮСаРСРвлТРовбп ЯаЮжХббЮЬ File_Server  ЮФШЭРЪЮТЮ  ¤	"б
ЮЦШФРЭШХЬ", в.Х. бШЭеаЮЭЭЮ.

	  15.2. АРСЮвР б ЯаЮжХббЮЬ File_Manager

     ґЫп ШбЯЮЫмЧЮТРЭШп ЯаЮжХббР Т вХЪбв ЯаЮУаРЬЬл бЫХФгХв ТЪЫозШвм 
дРЩЫ ЮЯаХФХЫХЭШЩ Filmac.mac. І нвЮЬ дРЩЫХ  бЮФХаЦРвбп  ЮЯаХФХЫХЭШп
ФЫп ЧРЯаЮбЮТ, ЮСаРСРвлТРХЬле ЯаЮжХббЮЬ File_Manager.

     ѕСаРйХЭШХ  Ъ  ЯаЮжХббг  ТлЯЮЫЭпХвбп   ЯгвХЬ   ЧРЯШбШ   РФаХбР 
гЯаРТЫпойХУЮ  СЫЮЪР  Т	 аХУШбва   FMCSR   (ЮСбЫгЦШТРХЬлЩ   ФРЭЭлЬ
ЯаЮжХббЮЬ).  ГЯаРТЫпойШЩ  СЫЮЪ  ФЮЫЦХЭ  аРЧЬХйРвмбп   Т   РФаХбЭЮЬ 
ЯаЮбваРЭбвТХ  ЯаЮжХббР,  ЪЮвЮалЩ   ТлЯЮЫЭпХв   ЮСаРйХЭШХ.   АРЧЬХа 
гЯаРТЫпойХУЮ СЫЮЪР ЧРТШбШв Юв вШЯР ЧРЯаЮбР.

     І  ЯХаТЮЬ  бЫЮТХ  гЯаРТЫпойХУЮ  СЫЮЪР  ЯХаХФ   ЮСаРйХЭШХЬ   Ъ 
File_Manager ЭРеЮФШвбп ЪЮФ ЧРЯаЮбР.

     µбЫШ Т ЬРЪаЮЪЮЬРЭФХ  РаУгЬХЭв  ЯаЮЯгйХЭ,  вЮ  бЮЮвТХвбвТгойРп 
пзХЩЪР Т вРСЫШжХ ADR ЬРЪаЮЪЮЬРЭФЮЩ ШЧЬХЭпвмбп ЭХ СгФХв.

     јРЪаЮЪЮЬРЭФл "ЯЮавпв" аХУШбва r0:	ЯЮбЫХ  ЧРЯаЮбР	r0  ТбХУФР
бЮФХаЦШв РФаХб ЭРзРЫР вРСЫШжл area, в.Х. РФаХб пзХЩЪШ,	Т  ЪЮвЮаЮЩ
аРЧЬХйРХвбп ЪЮФ ЧРЯаЮбР.

     ЅРЧЭРзШвм   ЫЮУШзХбЪЮХ   ШЬп   дШЧШзХбЪЮЬг   гбваЮЩбвТг   ШЫШ 
ЫЮУШзХбЪЮЬг ФШбЪг (ЪЮФ ЧРЯаЮбР 0):

FilMou	  Adr,Ldev,Pdev,Sblk,Leng,FIL,NAM,TYP
       ¤¤¤¤¤¤¤¤Ў
Adr ¤§Ґ   0    Ґ ¤ЪЮФ ЧРЯаЮбР
      ©¤¤¤¤¤¤¤¤§
      Ґ  Ldev  Ґ ¤ЫЮУШзХбЪЮХ ШЬп Т ЪЮФХ RADIX¤50
      ©¤¤¤¤¤¤¤¤§
      Ґ  Pdev  Ґ ¤дШЧШзХбЪЮХ ШЬп Ш ЭЮЬХа гбваЮЩбвТР Т ЪЮФХ RADIX¤50
      ©¤¤¤¤¤¤¤¤§
      Ґ  Sblk  Ґ
      ©¤¤¤¤¤¤¤¤§
      Ґ  Leng  Ґ
      ©¤¤¤¤¤¤¤¤§
      Ґ        Ґ ¤ ЭХ ШбЯЮЫмЧгХвбп
      ©¤¤¤¤¤¤¤¤§¤Ў
      Ґ  FIL   Ґ Ґ
      ©¤¤¤¤¤¤¤¤§ Ґ  ШЬп Ш вШЯ дРЩЫР, ЪЮвЮалЩ пТЫпХвбп ЫЮУШзХбЪШЬ
      Ґ  NAM   Ґ ©¤§ФШбЪЮЬ; ФЫп бЫгзРп ЭРЧЭРзХЭШп ЫЮУШзХбЪЮУЮ
      ©¤¤¤¤¤¤¤¤§ Ґ  ШЬХЭШ ФРЭЭлХ бЫЮТР вРСЫШжл ЭХ ШбЯЮЫмЧговбп
      Ґ  TYP   Ґ Ґ
      Ј¤¤¤¤¤¤¤¤ў¤ў

LDEV	  ¤ ЫЮУШзХбЪЮХ ШЬп, ЪЮвЮаЮХ  СгФХв  ЭРЧЭРзХЭЮ  дШЧШзХбЪЮЬг
	    гбваЮЩбвТг ШЫШ ЫЮУШзХбЪЮЬг ФШбЪг, Т ЪЮФХ RADIX¤50

PDEV	  ¤ дШЧШзХбЪЮХ ШЬп  Ш  ЭЮЬХа  гбваЮЩбвТР,  ЪЮвЮаЮЬг  СгФХв
            ЭРЧЭРзХЭЮ ЫЮУШзХбЪЮХ  ШЬп  ШЫШ  ЭР  ЪЮвЮаЮЬ  ЭРеЮФШвбп 
	    ЫЮУШзХбЪШЩ ФШбЪ, Т ЪЮФХ RADIX¤50

SBLK	  ¤ ЭЮЬХа СЫЮЪР (ЭР  дШЧШзХбЪЮЬ  гбваЮЩбвТХ),  б  ЪЮвЮаЮУЮ
            аРЧЬХйРХвбп ЫЮУШзХбЪШЩ ФШбЪ, ШЫШ 0,  ХбЫШ  дШЧШзХбЪЮЬг 
            гбваЮЩбвТг ЭРЧЭРзРХвбп ЫЮУШзХбЪЮХ ШЬп

LENG	  ¤  аРЧЬХа  ЫЮУШзХбЪЮУЮ  ФШбЪР  Т  СЫЮЪРе,  ШЫШ  0,  ХбЫШ
            дШЧШзХбЪЮЬг гбваЮЩбвТг ЭРЧЭРзРХвбп ЫЮУШзХбЪЮХ ШЬп

FIL,NAM,TYP ¤ ШЬп Ш вШЯ дРЩЫР, ЪЮвЮалЩ пТЫпХвбп ЫЮУШзХбЪШЬ ФШбЪЮЬ

µбЫШ ЧРЯаЮб ЭХ СгФХв ТлЯЮЫЭХЭ ШЧ¤ЧР ЮСЭРагЦХЭЭле ЮиШСЮЪ, вЮ ЯХаТЮХ 
бЫЮТЮ гЯаРТЫпойХУЮ СЫЮЪР СгФХв бЮФХаЦРвм ЮваШжРвХЫмЭлЩ ЪЮФ:

     ¤1   ¤ ЭХ ЧРФРЭЮ дШЧШзХбЪЮХ ШЬп Ш ЭЮЬХа гбваЮЩбвТР
     ¤2   ¤ гЪРЧРЭЭЮХ дШЧШзХбЪЮХ гбваЮЩбвТЮ ЮвбгвбвТгХв
     ¤3   ¤ вРСЫШжР ЫЮУШзХбЪШе ШЬХЭ ЯХаХЯЮЫЭХЭР

     їаЮбЬЮва  бЯШбЪР  бЮЮвТХвбвТШп  ЫЮУШзХбЪШе  ШЬХЭ   дШЧШзХбЪШЬ 
гбваЮЩбвТРЬ ШЫШ ЫЮУШзХбЪШЬ ФШбЪРЬ (ЪЮФ ЧРЯаЮбР 2):

FilSho	  Adr
       ¤¤¤¦¤¤¤¤Ў
Adr ¤§Ґ***Ґ  2 Ґ ¤ЪЮФ ЧРЯаЮбР
      ©¤¤¤Ё¤¤¤¤§
      Ґ  Ldev  Ґ ¤ЫЮУШзХбЪЮХ ШЬп Т ЪЮФХ RADIX¤50
      ©¤¤¤¤¤¤¤¤§
      Ґ  Pdev  Ґ ¤дШЧШзХбЪЮХ ШЬп Ш ЭЮЬХа гбваЮЩбвТР Т ЪЮФХ RADIX¤50
      ©¤¤¤¤¤¤¤¤§
      Ґ  Sblk  Ґ
      ©¤¤¤¤¤¤¤¤§
      Ґ  Leng  Ґ
      ©¤¤¤¤¤¤¤¤§¤Ў
      Ґ  DEV   Ґ Ґ
      ©¤¤¤¤¤¤¤¤§ Ґ
      Ґ  FIL   Ґ Ґ  бЯХжШдШЪРжШп  дРЩЫР,ЪЮвЮалЩ  пТЫпХвбп  ЫЮУШзХбЪШЬ
      ©¤¤¤¤¤¤¤¤§ ©¤§ФШбЪЮЬ; ФЫп бЫгзРп ЫЮУШзХбЪЮУЮ ШЬХЭШ ФРЭЭлХ бЫЮТР
      Ґ  NAM   Ґ Ґ  вРСЫШжл ЭХ ШбЯЮЫмЧговбп
      ©¤¤¤¤¤¤¤¤§ Ґ
      Ґ  TYP   Ґ Ґ
      Ј¤¤¤¤¤¤¤¤ў¤ў

     ґРЭЭлЩ ЧРЯаЮб ТЮЧТаРйРХв ЧРЯЮЫЭХЭЭго  вРСЫШжг.  ±РЩв  вРСЫШжл 
(ЯЮЬХзХЭЭлЩ  ***)  ЯаШ	ЯХаТЮЬ	ЮСаРйХЭШШ  Ъ  File_Manager  ФЮЫЦХЭ
бЮФХаЦРвм 0. їЮбЫХ ТлЯЮЫЭХЭШп ЧРЯаЮбР нвЮв  СРЩв  СгФХв  бЮФХаЦРвм 
ЭХЭгЫХТЮХ ЧЭРзХЭШХ, ХбЫШ вРСЫШжР  (adr)  ЧРЯЮЫЭХЭР  ШЭдЮаЬРжШХЩ  Ю
ЫЮУШзХбЪЮЬ ШЬХЭШ ШЫШ ЫЮУШзХбЪЮЬ ФШбЪХ. µбЫШ СРЩв  бЮФХаЦШв  0,  вЮ 
нвЮ ЮЧЭРзРХв, звЮ Тбп вРСЫШжР ЫЮУШзбЪШе ШЬХЭ Ш ФШбЪЮТ ЯаЮбЬЮваХЭР. 
ВРЪШЬ ЮСаРЧЮЬ ЯЮбЫХФЮТРвХЫмЭЮХ ТлЯЮЫЭХЭШХ ЧРЯаЮбР FilSho ЯЮЧТЮЫпХв
ЯЮЫгзШвм ТбХ ЮЯаХФХЫХЭЭлХ ЫЮУШзХбЪШХ ШЬХЭР Ш ФШбЪШ. ґЫп ЯЮТвЮаЭЮУЮ 
(ЭЮ  ЭХ  бРЬЮУЮ  ЯХаТЮУЮ)  ЧРЯаЮбЮТ  б   ЪЮФЮЬ   2   жХЫХбЮЮСаРЧЭЮ 
ШбЯЮЫмЧЮТРвм ЧРЯаЮб FILMAN (бЬ. ЭШЦХ).

     ІТЮФ бЯХжШдШЪРжШШ дРЩЫР б ЪЫРТШРвгал б ТЮЧЬЮЦЭЮбвмо ЯаЮбЬЮваР 
ЪРвРЫЮУЮТ, бШЭвРЪбШзХбЪШЩ ЪЮЭваЮЫм Ш дЮаЬШаЮТРЭШХ вРСЫШжл Dblk ФЫп
ЧРЯаЮбЮТ вШЯР .Lookup, .Enter Ш в.Я. (ЪЮФ ЧРЯаЮбР 4):

FilCsi	  Adr,Errst,Prost,Retst,Dext
       ¤¤¤¤¤¤¤¤Ў
Adr ¤§Ґ   4    Ґ ¤ЪЮФ ЧРЯаЮбР
      ©¤¤¤¤¤¤¤¤§
      Ґ Errst  Ґ ¤РФаХб бваЮЪШ "бЮЮСйХЭШХ ЮС ЮиШСЪХ"
      ©¤¤¤¤¤¤¤¤§
      Ґ Prost  Ґ ¤РФаХб бваЮЪШ "ЯЮФбЪРЧЪР"
      ©¤¤¤¤¤¤¤¤§
      Ґ Retst  Ґ
      ©¤¤¤¤¤¤¤¤§
      Ґ Dext   Ґ ¤ вШЯ дРЩЫР ЯЮ гЬЮЫзРЭШо Т ЪЮФХ RADIX¤50
      ©¤¤¤¤¤¤¤¤§¤Ў
      Ґ  DEV   Ґ Ґ
      ©¤¤¤¤¤¤¤¤§ Ґ
      Ґ  FIL   Ґ Ґ
      ©¤¤¤¤¤¤¤¤§ ©¤§ТЮЧТаРйРХЬРп бЯХжШдШЪРжШп дРЩЫР Т ЪЮФХ RADIX¤50
      Ґ  NAM   Ґ Ґ
      ©¤¤¤¤¤¤¤¤§ Ґ
      Ґ  TYP   Ґ Ґ
      Ј¤¤¤¤¤¤¤¤ў¤ў

ERRST	  ¤ РФаХб вХЪбвЮТЮЩ бваЮЪШ, ТлФРТРХЬЮЩ Т ЪРзХбвТХ  ЮиШСЪШ;
            РаУгЬХЭв ФЮЫЦХЭ Слвм 0, ХбЫШ  ЭХ  ЭгЦЭЮ  бЮЮСйХЭШХ  ЮС 
            ЮиШСЪХ;

PROST	  ¤ РФаХб вХЪбвЮТЮЩ бваЮЪШ, ТлФРТРХЬЮЩ Т ЪРзХбвТХ ЯЮФбЪРЧ¤
            ЪШ; РаУгЬХЭв ФЮЫЦХЭ Слвм 0, ХбЫШ ЯЮФбЪРЧЪР ЭХ ЭгЦЭР;

RETST	  ¤ РФаХб СгдХаР, Т ЪЮвЮалЩ СгФХв ЯЮЬХйХЭР ЪЮЯШп ТТХФХЭЭЮЩ
            бваЮЪШ; РаУгЬХЭв ФЮЫЦХЭ Слвм 0, ХбЫШ ЪЮЯШп ЭХ ЭгЦЭР;

DEXT	  ¤ вШЯ дРЩЫР  ЯЮ  гЬЮЫзРЭШо  Т  ЪЮФХ  RADIX¤50;  РаУгЬХЭв
            ФЮЫЦХЭ Слвм 0, ХбЫШ ЭХ ЭгЦЭЮ ШбЯЮЫмЧЮТРвм вШЯ дРЩЫР ЯЮ 
            гЬЮЫзРЭШо;

µбЫШ ЯаШ ТТЮФХ  бЯХжШдШЪРжШШ  гбваЮЩбвТЮ  ЭХ  гЪРЧлТРХвбп,  вЮ  ЯЮ 
гЬЮЫзРЭШо СгФХв ШбЯЮЫмЧЮТРвмбп ЫЮУШзХбЪЮХ ШЬп "DK".

їаШ ТлЯЮЫЭХЭШШ ЧРЯаЮбР бЮЧФРХвбп бЫХФгойХХ ЮЪЭЮ:

       MXCLEN ” 26. ;иШаШЭР ЮЪЭР Т бШЬТЮЫРе

     ¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤Ў
    Ґ			       Ґ©¤¤§бваЮЪР ФЫп ТлТЮФР ЮиШСЮЪ Ш
    ©¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤§    ЯЮФбЪРЧЮЪ
    Ґ			       Ґ©¤¤§"ФШРЫЮУЮТРп" бваЮЪР ФЫп ТТЮФР
    Ј¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ў


їЮбЫХФЮТРвХЫмЭЮбвм ТлЯЮЫЭХЭШп ЧРЯаЮбР:

     Р) ХбЫШ ЧРФРЭ РФаХб бваЮЪШ ЮиШСЪШ (ERRST), вЮ  Т  ЮЪЭЮ  СгФХв
        ТлТХФХЭЮ бЮЮСйХЭШХ ЮС ЮиШСЪХ;  ЭРЦРвШХ  ЭР  ЫоСго  ЪЫРТШиг 
        ЯаШТХФХв ЯаЮФЮЫЦХЭШо аРСЮвл;

     С) ХбЫШ ЧРФРЭ РФаХб бваЮЪШ ЯЮФбЪРЧЪШ (PROST), вЮ Т ЮЪЭЮ СгФХв
        ТлТХФХЭР ЯЮФбЪРЧЪР;

     Т) ТТЮФ Ш аХФРЪвШаЮТРЭШХ  бваЮЪШ  (бЯХжШдШЪРжШШ  дРЩЫР);  ФЫп 
	аХФРЪвШаЮТРЭШп	ЬЮУгв  ШбЯЮЫмЧЮТРвмбп  ЪЫРТШиШ	ц,   ч	 Ш
	"·°±ѕ№";  ЧРТХаиХЭШХ  ТТЮФР  бваЮЪШ  ¤	ЯЮ  ЪЫРТШиХ  "Іє";
	ЭРЦРвШХ ЭР ЪЫРТШиг "°А2" ¤ ЯаХалТРХв аРСЮвг  Ш	ТЮЧТаРйРХв
        гЯаРТЫХЭШХ ЯЮЫмЧЮТРвХЫмбЪЮЬг ЯаЮжХббг:  ЯЮЫХ  бЯХжШдШЪРжШШ 
        дРЩЫР Т вРСЫШжХ СгФХв бЮФХаЦРвм ЭгЫШ;

            ”  ШЬп Ш вШЯ дРЩЫР ЬЮУгв бЮФХаЦРвм бЯХжШРЫмЭлХ  бШЬТЮ¤ 
	       Ыл: "%" ¤ ЮЧЭРзРХв ЫоСЮЩ  бШЬТЮЫ;  "*"  ¤  ЮЧЭРзРХв
               ЯЮбЫХФЮТРвХЫмЭЮбвм ЫоСле бШЬТЮЫЮТ; ХбЫШ  ШЬп  дРЩЫР 
	       ЯаЮЯгйХЭЮ, вЮ ЮЭЮ СгФХв ШЭвХаЯаХвШаЮТРвмбп ЪРЪ "*";
               ХбЫШ Т ШЬХЭШ ШХШЫШ  вШЯХ  дРЩЫР  ШЬХовбп  гЪРЧРЭЭлХ 
               бШЬТЮЫл, вЮ Т  ФЮЯЮЫЭШвХЫмЭЮЬ  ЮЪЭХ  СгФХв  ТлТХФХЭ 
               бЯШбЮЪ дРЩЫЮТ, гФЮТЫХвТЮапойШе ЧРФРЭЭЮЬг  ЪаШвХаШо; 
	       ЯаШ нвЮЬ б ЯЮЬЮймо ш Ш щ  ЬЮЦЭЮ	ЯаЮбЬЮваХвм  ШЬХо¤
               йШЩбп бЯШбЮЪ;
	    ”  ЭРЦРвШХ ЪЫРТШиШ "°А2" ЧРТХаиШв ЯаЮбЬЮва СХЧ ШЧЬХЭХ¤
               ЭШп аХФРЪвШагХЬЮЩ бваЮЪШ;
	    ”  ЭРЦРвШХ ЪЫРТШиШ "Іє" ЧРТХаиШв ЯаЮбЬЮва Ш  бЪЮЯШагХв
               ШЬп Ш вШЯ ТлСаРЭЭЮУЮ дРЩЫР;
            ”  ЯЮбЫХ нвЮУЮ ЬЮЦЭЮ ЯаЮФЮЫЦШвм аХФРЪвШаЮТРЭШХ бваЮЪШ.

     У) ЯЮбЫХ  ЧРТХаиХЭШп  ТТЮФР  бваЮЪШ  ЯаЮШЧТЮФШвбп  РЭРЫШЧ  ЭР 
        ЮиШСЪШ (зШбвЮ бШЭвРЪбШзХбЪШХ); ХбЫШ ЮиШСЪР ЮСЭРагЦХЭР,  вЮ 
        ТлТЮФШвбп бЮЮСйХЭШХ "БШЭвРЪбШзХбЪРп  ЮиШСЪР";  ЭРЦРвШХ  ЭР 
        ЫоСго ЪЫРТШиг ЯаШТХФХв Ъ ЯаЮФЮЫЦХЭШо аРСЮвл б ЯгЭЪвР С);

     Ф) ХбЫШ  ЮиШСЮЪ  ЭХв,  вЮ  ЯЮЫмЧЮТРвХЫмбЪЮЬг  ЯаЮжХббг  СгФХв 
	ЯХаХФРЭР бЯХжШдШЪРжШп дРЩЫР Т ЪЮФХ RADIX¤50  (Т  вРСЫШжг),
        Ш, ХбЫШ  ЧРФРЭ  РФаХб  СгдХаР,  вЮ  СгФХв  ЯХаХФРЭР  ЪЮЯШп 
        ТТХФХЭЭЮЩ бваЮЪШ.

     ІТЮФ бЯХжШдШЪРжШШ дРЩЫР б ЪЫРТШРвгал, бШЭвРЪбШзХбЪШЩ ЪЮЭваЮЫм 
Ш дЮаЬШаЮТРЭШХ вРСЫШжл ІШФЫ ФЫп ЧРЯаЮбЮТ вШЯР  .Lookup,  .Enter  Ш
в.Я. (ЪЮФ ЧРЯаЮбР 10):

FilSpc	  Adr,Errst,Prost,Retst,Dext
       ¤¤¤¤¤¤¤¤Ў
Adr ¤§Ґ  10    Ґ ¤ЪЮФ ЧРЯаЮбР
      ©¤¤¤¤¤¤¤¤§
      Ґ Errst  Ґ ¤РФаХб бваЮЪШ "бЮЮСйХЭШХ ЮС ЮиШСЪХ"
      ©¤¤¤¤¤¤¤¤§
      Ґ Prost  Ґ ¤РФаХб бваЮЪШ "ЯЮФбЪРЧЪР"
      ©¤¤¤¤¤¤¤¤§
      Ґ Retst  Ґ
      ©¤¤¤¤¤¤¤¤§
      Ґ Dext   Ґ ¤ вШЯ дРЩЫР ЯЮ гЬЮЫзРЭШо Т ЪЮФХ RADIX¤50
      ©¤¤¤¤¤¤¤¤§¤Ў
      Ґ  DEV   Ґ Ґ
      ©¤¤¤¤¤¤¤¤§ Ґ
      Ґ  FIL   Ґ Ґ
      ©¤¤¤¤¤¤¤¤§ ©¤§ТЮЧТаРйРХЬРп бЯХжШдШЪРжШп дРЩЫР Т ЪЮФХ RADIX¤50
      Ґ  NAM   Ґ Ґ
      ©¤¤¤¤¤¤¤¤§ Ґ
      Ґ  TYP   Ґ Ґ
      Ј¤¤¤¤¤¤¤¤ў¤ў

     ґРЭЭлЩ ЧРЯаЮб РЭРЫЮУШзХЭ ЧРЯаЮбг FilCsi: ХФШЭбвТХЭЭЮХ ЮвЫШзШХ
ЧРЪЫозРХвбп Т вЮЬ, звЮ ЮвбгвбвТгХв ТЮЧЬЮЦЭЮбвм ЯаЮбЬЮваР ЪРвРЫЮУЮТ 
Ш ЭХФЮЯгбвШЬЮ ШбЯЮЫмЧЮТРЭШХ бШЬТЮЫЮТ  "*"  Ш  "%"  Т  бЯХжШдШЪРжШШ
дРЩЫР.

     ІТЮФ бЯХжШдШЪРжШШ дРЩЫР б ЪЫРТШРвгал, бШЭвРЪбШзХбЪШЩ ЪЮЭваЮЫм 
Ш дЮаЬШаЮТРЭШХ вРСЫШжл ІШФЫ ФЫп ЧРЯаЮбЮТ вШЯР  .Lookup,  .Enter  Ш
в.Я. (ЪЮФ ЧРЯаЮбР 12):

FilGtf	  Adr,Errst,Prost,Retst,Dext
       ¤¤¤¤¤¤¤¤Ў
Adr ¤§Ґ  12    Ґ ¤ЪЮФ ЧРЯаЮбР
      ©¤¤¤¤¤¤¤¤§
      Ґ Errst  Ґ ¤РФаХб бваЮЪШ "бЮЮСйХЭШХ ЮС ЮиШСЪХ"
      ©¤¤¤¤¤¤¤¤§
      Ґ Prost  Ґ ¤РФаХб бваЮЪШ "ЯЮФбЪРЧЪР"
      ©¤¤¤¤¤¤¤¤§
      Ґ Retst  Ґ
      ©¤¤¤¤¤¤¤¤§
      Ґ Dext   Ґ ¤ вШЯ дРЩЫР ЯЮ гЬЮЫзРЭШо Т ЪЮФХ RADIX¤50
      ©¤¤¤¤¤¤¤¤§¤Ў
      Ґ  DEV   Ґ Ґ
      ©¤¤¤¤¤¤¤¤§ Ґ
      Ґ  FIL   Ґ Ґ
      ©¤¤¤¤¤¤¤¤§ ©¤§ТЮЧТаРйРХЬРп бЯХжШдШЪРжШп дРЩЫР Т ЪЮФХ RADIX¤50
      Ґ  NAM   Ґ Ґ
      ©¤¤¤¤¤¤¤¤§ Ґ
      Ґ  TYP   Ґ Ґ
      Ј¤¤¤¤¤¤¤¤ў¤ў

     ґРЭЭлЩ ЧРЯаЮб РЭРЫЮУШзХЭ ЧРЯаЮбг FilCsi: ХФШЭбвТХЭЭЮХ ЮвЫШзШХ
ЧРЪЫозРХвбп  Т  вЮЬ,   звЮ   ЮвбгвбвТгХв   ТЮЧЬЮЦЭЮбвм   ЯаЮбЬЮваР 
ЪРвРЫЮУЮТ. ёбЯЮЫмЧЮТРЭШХ бШЬТЮЫЮТ "*" Ш "%" Т  бЯХжШдШЪРжШШ  дРЩЫР
аРЧаХиРХвбп: ЮЭШ ТЮЧТаРйРовбп Т бЮбвРТХ бЯХжШдШЪРжШШ дРЩЫР Т  ЪЮФХ 
RADIX¤50 Ш, ХбЫШ гЪРЧРЭЮ, Т вХЪбвЮТЮЬ СгдХаХ.

     ІлТЮФ бЮЮСйХЭШЩ ЮС ЮиШСЪРе Ш ЯЮФбЪРЧЮЪ (ЪЮФ ЧРЯаЮбР 6):

FilMes	  Adr,Errst,Prost
       ¤¤¤¤¤¤¤¤Ў
Adr ¤§Ґ   6    Ґ ¤ЪЮФ ЧРЯаЮбР
      ©¤¤¤¤¤¤¤¤§
      Ґ Errst  Ґ ¤РФаХб бваЮЪШ "бЮЮСйХЭШХ ЮС ЮиШСЪХ"
      ©¤¤¤¤¤¤¤¤§
      Ґ Prost  Ґ ¤РФаХб бваЮЪШ "ЯЮФбЪРЧЪР"
      Ј¤¤¤¤¤¤¤¤ў

ERRST	  ¤ РФаХб вХЪбвЮТЮЩ бваЮЪШ, ТлФРТРХЬЮЩ Т ЪРзХбвТХ  ЮиШСЪШ;
            РаУгЬХЭв ФЮЫЦХЭ Слвм 0, ХбЫШ  ЭХ  ЭгЦЭЮ  бЮЮСйХЭШХ  ЮС 
            ЮиШСЪХ;

PROST	  ¤ РФаХб вХЪбвЮТЮЩ бваЮЪШ, ТлФРТРХЬЮЩ Т ЪРзХбвТХ ЯЮФбЪРЧ¤
            ЪШ; РаУгЬХЭв ФЮЫЦХЭ Слвм 0, ХбЫШ ЯЮФбЪРЧЪР ЭХ ЭгЦЭР.

їЮбЫХФЮТРвХЫмЭЮбвм ТлЯЮЫЭХЭШп ЧРЯаЮбР:

     Р) ХбЫШ ЧРФРЭ РФаХб бваЮЪШ ЮиШСЪШ (ERRST), вЮ  Т  ЮЪЭЮ  СгФХв
        ТлТХФХЭЮ бЮЮСйХЭШХ ЮС ЮиШСЪХ;  ЭРЦРвШХ  ЭР  ЫоСго  ЪЫРТШиг 
        ЯаШТХФХв ЯаЮФЮЫЦХЭШо аРСЮвл;

     С) ХбЫШ ЧРФРЭ РФаХб бваЮЪШ ЯЮФбЪРЧЪШ (PROST), вЮ Т ЮЪЭЮ СгФХв
        ТлТХФХЭР ЯЮФбЪРЧЪР; ЭРЦРвШХ ЭР ЫоСго  ЪЫРТШиг  ЯаШТХФХв  Ъ 
        ЧРТХаиХЭШо ТлЯЮЫЭХЭШп ЧРЯаЮбР.

     ДЮаЬШаЮТРЭШХ вРСЫШжл Dblk ШЧ вХЪбвЮТЮЩ бваЮЪШ ¤  бЯХжШдШЪРжШШ
дРЩЫР (ЪЮФ ЧРЯаЮбР 8):

FilR50	  Adr,Ascst,Dext
       ¤¤¤¤¤¤¤¤Ў
Adr ¤§Ґ   8    Ґ ¤ЪЮФ ЧРЯаЮбР
      ©¤¤¤¤¤¤¤¤§
      Ґ Ascst  Ґ ¤РФаХб бваЮЪШ, бЮФХаЦРйХЩ бЯХжШдШЪРжШо дРЩЫР
      ©¤¤¤¤¤¤¤¤§
      Ґ        Ґ ¤ЭХ ШбЯЮЫмЧгХвбп
      ©¤¤¤¤¤¤¤¤§
      Ґ        Ґ ¤ЭХ ШбЯЮЫмЧгХвбп
      ©¤¤¤¤¤¤¤¤§
      Ґ Dext   Ґ ¤ вШЯ дРЩЫР ЯЮ гЬЮЫзРЭШо Т ЪЮФХ RADIX¤50
      ©¤¤¤¤¤¤¤¤§¤Ў
      Ґ  DEV   Ґ Ґ
      ©¤¤¤¤¤¤¤¤§ Ґ
      Ґ  FIL   Ґ Ґ
      ©¤¤¤¤¤¤¤¤§ ©¤§ТЮЧТаРйРХЬРп бЯХжШдШЪРжШп дРЩЫР Т ЪЮФХ RADIX¤50
      Ґ  NAM   Ґ Ґ
      ©¤¤¤¤¤¤¤¤§ Ґ
      Ґ  TYP   Ґ Ґ
      Ј¤¤¤¤¤¤¤¤ў¤ў

ASCST	  ¤ РФаХб вХЪбвЮТЮЩ бваЮЪШ, бЮФХаЦРйХЩ бЯХжШдШЪРжШо  дРЩЫР
	    Т дЮаЬРвХ .asciz.

     ·РЯаЮб Ъ ЯаЮжХббг File_Manager:

FILMAN	  Adr

     ґРЭЭлЩ ЧРЯаЮб  ЯХаХблЫРХв	Т  аХУШбва  ЯаЮжХббР  File_Manager
РФаХб вРСЫШжл. јРЪаЮЪЮЬРЭФР ФРЭЭЮУЮ ЧРЯаЮбР ШЬХХв бЫХФгойШЩ ТШФ:

     .macro    FILMAN	 adr
	       mov  adr, @#FMCSR
	       nop
     .endm     FILMAN

	  16.3. АРСЮвР б ЯаЮжХббЮЬ File_Comander

     їаЮжХбб РЪвШТШагХвбп ЯаШ ЭРЦРвШШ ЪЮЬСШЭРжШШ ЪЫРТШи ГїА+Б±АѕБ. 
їаШ нвЮЬ ЭР нЪаРЭХ ТлбТХзШТРХвбп бЫХФгойХХ ЬХЭо:
   ¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤Ў
  ҐІРиХ ЬХЭо		       Ґ	ѕвЪРЧ Юв ЬХЭо ТлЯЮЫЭпХвбп
  ҐїаЮУаРЬЬШагХЬлХ ЪЫРТШиШ     Ґ	ЯЮ ЪЫРТШиШ °А2.
  Ґ·РУагЧШвм јµЅО Ш є»°ІёИё    Ґ
  ҐєРавР ЯРЬпвШ бШбвХЬл        Ґ їХаХЬХйХЭШХ ЯЮ ЬХЭо ТлЯЮЫЭпХвбп  б
  ҐАРСЮвР б ЯаЮжХббРЬШ	       Ґ ЯЮЬЮймо ш Ш щ	;  ЭРЦРвШХ  ЪЫРТШиШ
  ҐАРСЮвР б дРЩЫРЬШ	       Ґ "Іє"  ТлЯЮЫЭШв  ТлСаРЭЭлЩ  нЫХЬХЭв
  ҐЅРЧЭРзШвм ЫЮУШзХбЪЮХ ШЬп    Ґ ЬХЭо.
  ҐБЬЮЭвШаЮТРвм ЫЮУШзХбЪШЩ ФШбЪҐ
  ҐѕвЬХЭШвм ЫЮУШзХбЪЮХ ШЬпХФШбЪҐ
  Ј¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ў

a) "ІРиХ ЬХЭо"
¤  ЯгЭЪв  ТлбТХзШТРХв  "ЯЮЫмЧЮТРвХЫмбЪЮХ"   ЬХЭо,   ЯаХФТРаШвХЫмЭЮ 
бзШвРЭЭЮХ ШЧ дРЩЫР FILMEN.MEN;	аРЧЬХа	ФРЭЭЮУЮ  вХЪбвЮТЮУЮ  дРЩЫР
ФЮЫЦХЭ Слвм 1 СЫЮЪ (в.Х. ЭХ ЯаХТлиРвм  512  СРЩв);  дРЩЫ  бЮФХаЦШв 
ЯЮбЫХФЮТРвХЫмЭЮбвм  ЮЯШбРЭШЩ  ЯгЭЪвЮТ  ЬХЭо;  ЪРЦФлЩ  ЯгЭЪв   ЬХЭо 
ЮЯШблТРХвбп бЫХФгойШЬ ЮСаРЧЮЬ:

     бваЮЪР¤ЧРУЮЫЮТЮЪ
     бваЮЪР¤ЪЮЬРЭФР¤1
     бваЮЪР¤ЪЮЬРЭФР¤2
     ...
¤ ЯХаТРп бваЮЪР СгФХв ШбЯЮЫмЧЮТРвмбп Т  ЪРзХбвТХ  ЯгЭЪвР  ЬХЭо  (Ш 
СгФХв ЯЮЫЭЮбвмо ТлбТХзШТРвмбп Т  ЮЪЭХ);  ФРЫХХ  бЫХФгов  ЪЮЬРЭФЭлХ 
бваЮЪШ   (ЮФЭР   ШЫШ   ЭХбЪЮЫмЪЮ);    ЪЮЬРЭФЭРп    бваЮЪР    СгФХв 
ТлФРТРвмбп ЯЮ ЧРЯаЮбг RESPON Ш ШЬХХв  бЫХФгойШЩ дЮаЬРв:
     ¤¤¤¤¤¤¤¤Ў
    ҐYZбваЮЪРҐ
    Ј¤¤¤¤¤¤¤¤ў
     ҐҐ¤¤¦¤¤¤
     ҐҐ  Ј ТлФРТРХЬРп бваЮЪР
     ҐҐ
     ҐЈ¤¤¤¤¤ (ЯаЮСХЫ) ¤ ЮбвРвмбп Т аХЦШЬХ ЬХЭо
     Ј¤¤¤¤¤¤ >	      ¤ ТлЩвШ ШЧ аХЦШЬР ЬХЭо
	     <	      ¤ аРЧаХиШвм "ЪЫРТШРвгаЭл ТТЮФ"
	     ^	      ¤ ЯаХЮСаРЧЮТРвм бЫХФгойШЩ бШЬТЮЫ Т гЯаРТЫпойШЩ

¤ ЯЮЫмЧЮТРвХЫмбЪЮХ ЬХЭо ЬЮЦЭЮ РЪвШТШаЮТРвм ЭХЧРТШбШЬЮ,  б  ЯЮЬЮймо 
ЪЮЬСШЭРжШШ ЪЫРТШи "SHIFT"+"CR";

¤ ЯаШЬХа дРЩЫР FILMEN.MEN:

	  Assign HD DK
	  ) as hd dk
	  Macro FIL
	  ) mac fil
	  Macro COM
	  ) mac com
	  Macro MEN
	  ) mac men
	  Link Fil.Prc
	  ) lin fil/map/pro
	  ) men,com//
	  (>prun fil
	  Clean dk:
	  ) del *.bak/noq
	  )>sq dk:/noq

С) "їаЮУаРЬЬШагХЬлХ ЪЫРТШиШ"
¤ ЯгЭЪв ТлбТХзШТРХв дгЭЪжШЮЭРЫмЭлХ ЪЫРТШиШ Т ТШФХ ЬХЭо (ЭРЧЭРзХЭШХ 
дгЭЪжШЮЭРЫмЭле ЪЫРТШи  бзШвлТРХвбп  ШЧ	дРЩЫР  FILKEY.KEY;  аРЧЬХа
ФРЭЭЮУЮ вХЪбвЮТЮУЮ дРЩЫР ФЮЫЦХЭ Слвм 1 СЫЮЪ, в.Х. ЭХ ЯаХТлиРвм 512 
СРЩв);

¤  дгЭЪжШЮЭРЫмЭлЬШ  ЪЫРТШиРЬШ  пТЫповбп  є1¤є5;  нвШ  ЦХ  ЪЫРТШиШ, 
ЭРЦШЬРХЬлХ  ЮФЭЮТаХЬХЭЭЮ  б  ЪЫРТШиХЩ  "SHIFT",  ЮСЮЧЭРзРовбп  ЪРЪ
є6¤є10;

¤ дРЩЫ бЮФХаЦШв ЯЮбЫХФЮТРвХЫмЭЮбвм ЮЯШбРЭШЩ дгЭЪжШЮЭРЫмЭле  ЪЫРТШи 
є1¤є10 Ш ШЬХХв дЮаЬРв, РЭРЫЮУШзЭлЩ дРЩЫг  ЯЮЫмЧЮТРвХЫмбЪЮУЮ  ЬХЭо; 
ЪРЦФРп дгЭЪжШЮЭРЫмЭРп ЪЫРТШиР ЮЯШблТРХвбп бЫХФгойШЬ ЮСаРЧЮЬ:

     бваЮЪР¤ЧРУЮЫЮТЮЪ
     бваЮЪР¤ЪЮЬРЭФР¤1
     бваЮЪР¤ЪЮЬРЭФР¤2
     ...

¤ ЯХаТРп бваЮЪР СгФХв ШбЯЮЫмЧЮТРвмбп Т  ЪРзХбвТХ  ЯгЭЪвР  ЬХЭо  (Ш 
СгФХв ЯЮЫЭЮбвмо ТлбТХзШТРвмбп Т  ЮЪЭХ);  ФРЫХХ  бЫХФгов  ЪЮЬРЭФЭлХ 
бваЮЪШ (ЮФЭР ШЫШ ЭХбЪЮЫмЪЮ); ЪЮЬРЭФЭлХ бваЮЪШ СгФгв  бЮСШаРвмбп  Т 
ХФШЭго бваЮЪг ФЫп ЯаЮУаРЬЬШаЮТРЭШп бЮЮвТХвбвТгойХЩ  дгЭЪжШЮЭРЫмЭЮЩ 
ЪЫРТШиШ  ЯЮ  ЧРЯаЮбг  KSTRIN;  ЪЮЬРЭФЭРп  бваЮЪР  ШЬХХв  бЫХФгойШЩ
дЮаЬРв:

     ¤¤¤¤¤¤¤¤Ў
    ҐYZбваЮЪРҐ
    Ј¤¤¤¤¤¤¤¤ў
     ҐҐ¤¤¦¤¤¤
     ҐҐ  Ґ
     ҐҐ  Ј¤¤ бваЮЪР ФЫп ЯаЮУаРЬЬШаЮТРЭШп
     ҐЈ¤¤¤¤¤ (ЯаЮСХЫ) ¤ ЮбвРвмбп Т аХЦШЬХ ЬХЭо
     Ґ	     >	      ¤ ТлЩвШ ШЧ аХЦШЬР ЬХЭо
     Ј¤¤¤¤¤¤ ) бваЮЪР б бШЬТЮЫЮЬ <CR>
	     ( бваЮЪР СХЧ бШЬТЮЫР <CR>

¤ Т ЪЮЬРЭФЭле бваЮЪРе ЮбЮСлЬ ЮСаРЧЮЬ ШЭвХаЯаХвШагХвбп бШЬТЮЫ  "^":
ЯЮбЫХФЮТРвХЫмЭЮбвм "^^" ЯаХЮСаРЧгХвбп Т "^", Р	ЯЮбЫХФЮТРвХЫмЭЮбвм
"^x" (УФХ x ¤ СгЪТР) ¤ ЯаХЮСаРЧгХвбп Т бЮЮвТХвбвТгойШЩ гЯаРТЫпойШЩ
ЪЮФ (Т ФШРЯРЧЮЭХ 0¤37);

¤ бЯШбЮЪ дгЭЪжШЮЭРЫмЭле ЪЫРТШи ЬЮЦЭЮ ТлбТХвШвм ЭХЧРТШбШЬЮ,  б  ЯЮЬЮймо 
ЪЮЬСШЭРжШШ ЪЫРТШи "SHIFT"+"DEL";

¤ ЯаШЬХа дРЩЫР FILKEY.KEY:

	       K1  ¤ Abort
	       ( ^Б
	       K2  ¤ Abort !!!
	       ( ^Б^Б
	       K3  ¤ Line feed
	       ( ^J
	       K4  ¤ Pause tt:
	       ( ^S
	       K5  ¤ Continue tt:
	       ( ^Q
	       K6  ¤ єРавР ЯРЬпвШ
	       ) map
	       K7  ¤ БЯШбЮЪ ЯаЮжХббЮТ
	       ) ps
	       K8  ¤ ГСШвм ЯаЮжХбб
	       (>kill
	       K9  ¤ ЅЮТлХ дРЩЫл
	       )>dir/new
	       K10 ¤ ·РйШйХЭЭлХ дРЩЫл
	       )>dir/pro

Т) "·РУагЧШвм јµЅО Ш є»°ІёИё:
¤ ЯаШ ТлСЮаХ ФРЭЭЮУЮ  ЯгЭЪвР  ЯаЮШбеЮФШв  ЯХаХЧРУагЧЪР  (ЯЮТвЮаЭЮХ 
бзШвлТРЭШХ) дРЩЫЮТ FILMEN.MEN Ш FILKEY.KEY; ЯаШ ЧРЯгбЪХ  дРЩЫЮТЮУЮ
ЬЮФгЫп ФРЭЭлХ дРЩЫл бзШвлТРовбп  ЭР  дРЧХ  ШЭШжШРЫШЧРжШШ;  ХбЫШ  Т 
ЯаЮжХббХ аРСЮвХ  ШЧЬХЭШЫШбм  ЮФШЭ  ШЫШ  ЮСР  дРЩЫР,  вЮ  Ше  ЬЮЦЭЮ 
ЯХаХУагЧШвм, ЭХ ЯХаХЧРЯгбЪРп ЯаЮжХбб дРЩЫЮТЮУЮ ЬЮФгЫп.

У) "єРавР ЯРЬпвШ бШбвХЬл"
¤ ЯаШ ТлСЮаХ ФРЭЭЮУЮ ЯгЭЪвР Т ЮЪЭХ ТлбТХзШТРХвбп  бШбвХЬЭРп  ЪРавР 
ЯРЬпвШ.

Ф) "АРСЮвР б ЯаЮжХббРЬШ"
¤ ЯаШ ТлСЮаХ ФРЭЭЮУЮ ЯгЭЪвР Т ЮЪЭХ ТлбТХзШТРХвбп бЯШбЮЪ ЯаЮжХббЮТ; 
ФЫп ЪРЦФЮУЮ ЯаЮжХббР  ТлбТХзШТРХвбп  ХУЮ  ЭЮЬХа,  ШЬп,  ЯаШЮаШвХв, 
ШбЯЮЫмЧгХЬРп ЯРЬпвм  (noMAP  ¤	ЮЧЭРзРХв,  звЮ	ЯаЮжХбб  ЭХ  ШЬХХв
бЮСбвТХЭЭЮЩ ЯРЬпвШ), Р вРЪЦХ ШбЯЮЫмЧЮТРЭЭЮХ ТаХЬп ЯаЮжХббЮаР;

¤ ФЫп ТлСаРЭЭЮУЮ ЯаЮжХббР ЬЮЦЭЮ ТлЯЮЫЭШвм бЫХФгойШХ ЮЯХаРжШШ:

     їѕј  ¤ ТлбТХвШв ЪРавг ЯРЬпвШ ЯаЮжХббР;
     ёБї  ¤ гФРЫШв ЯаЮжХбб.

Х) "АРСЮвР б дРЩЫРЬШ"
¤ ЯаШ ТлСЮаХ ФРЭЭЮУЮ ЯгЭЪвР ТлбТХзШТРХвбп ЮЪЭЮ б ЧРЯаЮбЮЬ:

	  ¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤Ў
	 Ґ  ДШЧШзХбЪЮХ гбваЮЩбвТЮ : Ґ
	 Ґ			    Ґ
	 Ј¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ў

¤ Т ЮвТХв ЭХЮСеЮФШЬЮ ЭРСаРвм бЯХжШдШЪРжШо гбваЮЩбвТР ШЫШ УагЯЯЮТго 
бЯХжШдШЪРжШо дРЩЫЮТ (бЮФХаЦРйго бШЬТЮЫл "*" Ш  "%");  ХбЫШ  ЧРФРвм
вЮЫмЪЮ  гбваЮЩбвТЮ,   вЮ   ТлбТХвШвбп   ЯЮЫЭлЩ   ЪРвРЫЮУ   дРЩЫЮТ, 
аРЧЬХйХЭЭле   ЭР   нвЮЬ   гбваЮЩбвТХ;   ХбЫШ   ЧРФРвм    УагЯЯЮТго 
бЯХжШдШЪРжШо, вЮ  СгФХв  ТлТХФХЭ  бЯШбЮЪ  дРЩЫЮТ,  гФЮТЫХвТЮапойХЩ 
ЧРФРЭЭЮЩ бЯХжШдШЪРжШШ;

¤ ЮвЪРЧРвмбп Юв ЯаХФбвРТЫХЭЭЮУЮ  ТлиХ  ЧРЯаЮбР  ЬЮЦЭЮ  ЯЮ  ЪЫРТШиХ 
"°А2";

¤ ТлбТХвШвм ЬХЭо б ТЮЧТЮЦЭлЬШ ЪЮЬРЭФРЬШ ЬЮЦЭЮ ЯЮ ЪЫРТШиХ "їѕј":

¤ ХбЫШ Т ЮЪЭХ ТлбТХзХЭ бЯШбЮЪ дРЩЫЮТ, вЮ ЬЮЦЭЮ ТлЯЮЫЭпвм бЫХФгойШХ 
ЮЯХаРжШШ (ЭРЦРвШХЬ ЭР бЮЮвТХвбвТгойго ЪЫРТШиг):
     K1   ¤ гбвРЭЮТШвмХбЭпвм ЧРйШвг дРЩЫР
     K2   ¤ ЯХаХЬХбвШвм дРЩЫ
     K3   ¤ бЪЮЯШаЮТРвм дРЩЫ
     K4   ¤ гФРЫШвм дРЩЫ (ЧРйШйХЭЭлЩ дРЩЫ ЭХ гФРЫпХвбп)
     K5   ¤ ЯХаХШЬХЭЮТРвм дРЩЫ
     "BK" ¤ "ТлЯЮЫЭШвм" дРЩЫ
     <.>  ¤ ЯЮЬХвШвм дРЩЫ

     "ТлЯЮЫЭШвм" дРЩЫ ЮЧЭРзРХв бЫХФгойХХ (ФЫп гЪРЧРЭЭЮУЮ вШЯР):
     .DSK ¤ дРЩЫ ЫЮУШзХбЪЮУЮ ФШбЪР ¤ ЯЮбЬЮваХвм  ЪРвРЫЮУ  ЫЮУШзХб¤
            ЪЮУЮ ФШбЪР
     .COM ¤ ЪЮЬРЭФЭлЩ  дРЩЫ  ¤	 ЧРЯгбвШвм   ЪЮЬРЭФЭлЩ	 дРЩЫ	ЭР
            ТлЯЮЫЭХЭШХ ЯЮФ гЯаРТЫХЭШХЬ ФШбЪЮТЮЩ ѕБ
     .PRC ¤ дРЩЫ  ЯаЮжХббР  ¤  ЧРЯгбвШвм  ЯаЮжХбб  ЭР	ТлЯЮЫЭХЭШХ
	    (РЭРЫЮУШзЭЮ СгФХв ЮСаРСЮвРЭ дРЩЫ вШЯР .SAV)

     "ЯЮЬХзХЭЭлЩ(лХ)"  дРЩЫл   ТлФХЫповбп   Т   ЬХЭо   бЯХжШРЫмЭлЬ 
     ЬРаЪХаЮЬ; ФРЭЭРп ЮЯХаРжШп пТЫпХвбп "ваШУУХаЭЮЩ";
     ХбЫШ ШЬХовбп "ЯЮЬХзХЭЭлХ" дРЩЫл вЮ ЮЯХаРжШШ ЯЮ  ЪЫРТШиРЬ  K1,
     K2, K3 Ш K4 СгФгв ТлЯЮЫЭХЭл бЮ ТбХЬШ ЯЮЬХзХЭЭлЬШ дРЩЫРЬШ.

Ц) "ЅРЧЭРзШвм ЫЮУШзХбЪЮХ ШЬп"
¤ ЯЮ ФРЭЭЮЬг  ЯгЭЪвг  ЬХЭо  ТлЯЮЫЭпХвбп  ЯаШбТРШТРЭШХ  ЫЮУШзХбЪЮУЮ 
ШЬХЭШ дШЧШзХбЪЮЬг гбваЮЩбвТг;

¤  ЯаШ  ТлСЮаХ  ФРЭЭЮУЮ  ЯгЭЪвР  ТлбТХзШТРХвбп  ЮЪЭЮ  бЮ   бЯШбЪЮЬ 
ШЬХойШебп ЫЮУШзХбЪШе ЭРЧЭРзХЭШЩ, Р вРЪЦХ ЮЪЭЮ б ЧРЯаЮбЮЬ:
	  ¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤Ў
	 Ґ»ЮУШзХбЪЮХ ШЬп гбваЮЩбвТР:Ґ
	 Ґ			    Ґ
	 Ј¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ў
¤ Т ЮвТХв ЭХЮСеЮФШЬЮ ЭРСаРвм ЫЮУШзХбЪЮХ ШЬп (1¤3 бШЬТЮЫР) Ш "Іє";

¤ ЯЮбЫХ нвЮУЮ ЯЮпТШвбп ЧРЯаЮб:
	  ¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤Ў
	 Ґ  ДШЧШзХбЪЮХ гбваЮЩбвТЮ:  Ґ
	 Ґ			    Ґ
	 Ј¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ў

¤ Т ЮвТХв ЭХЮСеЮФШЬЮ ЭРСаРвм  дШЧШзХбЪЮХ  гбваЮЩбвТЮ  (ШЬп  ¤  ФТР 
бШЬТЮЫР, Ш, ХбЫШ ЭХЮСеЮФШЬЮ, ЭЮЬХа гбваЮЩбвТР);


¤ ЯЮбЫХ нвЮУЮ ЯЮТвЮаШвбп ЧРЯаЮб ЫЮУШзХбЪЮУЮ ШЬХЭШ;

¤ ТлеЮФ ШЧ аХЦШЬР ЧРФРЭШп ЫЮУШзХбЪШе ШЬХЭ ЯЮ ЪЫРТШиХ "°А2".

Ч) "БЬЮЭвШаЮТРвм ЫЮУШзХбЪШЩ ФШбЪ"
¤ ЯЮ ФРЭЭЮЬг  ЯгЭЪвг  ЬХЭо  ТлЯЮЫЭпХвбп  ЯаШбТРШТРЭШХ  ЫЮУШзХбЪЮУЮ 
ШЬХЭШ ЫЮУШзХбЪЮЬг ФШбЪг (вШЯ дРЩЫР .DSK);

¤  ЯаШ  ТлСЮаХ  ФРЭЭЮУЮ  ЯгЭЪвР  ТлбТХзШТРХвбп  ЮЪЭЮ  бЮ   бЯШбЪЮЬ 
ШЬХойШебп ЫЮУШзХбЪШе ЭРЧЭРзХЭШЩ, Р вРЪЦХ ЮЪЭЮ б ЧРЯаЮбЮЬ:
	  ¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤Ў
	 Ґ»ЮУШзХбЪЮХ ШЬп гбваЮЩбвТР:Ґ
	 Ґ			    Ґ
	 Ј¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ў
¤ Т ЮвТХв ЭХЮСеЮФШЬЮ ЭРСаРвм ЫЮУШзХбЪЮХ ШЬп (1¤3 бШЬТЮЫР) Ш "Іє";

¤ ЯЮбЫХ нвЮУЮ ЯЮпТШвбп ЧРЯаЮб:
	  ¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤Ў
	 Ґ ДРЩЫ ЫЮУШзХбЪЮУЮ ФШбЪР : Ґ
	 Ґ			    Ґ
	 Ј¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ў

¤  Т  ЮвТХв  ЭХЮСеЮФШЬЮ  ЭРСаРвм  бЯХжШдШЪРжШо  дРЩЫР  ЫЮУШзХбЪЮУЮ 
ФШбЪР; нвЮ ЧРЯаЮб ТлЯЮЫЭпХвбп б ЯЮЬЮймо  FilCsi  ¤  ЯЮнвЮЬг  ЬЮЦЭЮ
ШбЯЮЫмЧЮТРвм ТЮЧЬЮЦЭЮбвм ЯаЮбЬЮваР ЪРвРЫЮУР Ш в.Ф.

¤ ЯЮбЫХ нвЮУЮ ЯЮТвЮаШвбп ЧРЯаЮб ЫЮУШзХбЪЮУЮ ШЬХЭШ;

¤ ТлеЮФ ШЧ аХЦШЬР ЧРФРЭШп ШЬХЭ ЫЮУШзХбЪШЬ гбваЮЩбвТРЬ  ЯЮ  ЪЫРТШиХ 
"°А2".

Ш) "ѕвЬХЭШвм ЫЮУШзХбЪЮХ ШЬп/ФШбЪ"

¤  ЯЮ  ФРЭЭЮЬг  ЯгЭЪвг  ЬХЭо   ТлЯЮЫЭпХвбп   гФРЫХЭШХ   ЫЮУШзХбЪШе 
ШЬХЭ, ЯаШбТЮХЭЭле б ЯЮЬЮймо ЯаХФлФгйШе ФТге ЮЯХаРжШЩ;

¤  ЯаШ  ТлСЮаХ  ФРЭЭЮУЮ  ЯгЭЪвР  ТлбТХзШТРХвбп  ЮЪЭЮ  бЮ   бЯШбЪЮЬ 
ШЬХойШебп ЫЮУШзХбЪШе ЭРЧЭРзХЭШЩ; ТХаеЭпп бваЮЪР ЮЪЭР  ШбЯЮЫмЧгХвбп 
Т ЪРзХбвТХ ЧРУЮЫЮТЪР; ЯХаХЬХйРп б ЯЮЬЮймо ш Ш  щ  ТлФХЫХЭЭЮХ  ШЬп,
ЭРЦРвШХЬ ЭР "Іє" ЮЭЮ гФРЫпХвбп;

¤ ЯаШЬХа ЮЪЭР бЮ бЯШбЪЮЬ ЫЮУШзХбЪШе ЭРЧЭРзХЭШЩ:

	  ¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤Ў
	 Ґlog¤>phy:filnam.typ	Ґ ¤ бваЮЪР ЧРУЮЫЮТЪР
	 ҐA  ¤>fd :		Ґ
	 ҐB  ¤>hd7:		Ґ
	 Ґld3¤>hd3:demo  .dsk	Ґ
	 ҐC  ¤>hd2:		Ґ
	 ҐEE ¤>Hd7:system.dsk	Ґ
	 Ј¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ў
                                                                                                   
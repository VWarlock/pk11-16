
	  8. іаРдШзХбЪШЩ ФШбЯЫХЩ
							  19.09.90

     іаРдШзХбЪШЩ ФШбЯЫХЩ ЯаХФбвРТЫпХв бЮСЮЩ  ЯаЮжХбб,  аХРЫШЧгойШЩ 
СРЧЮТлЩ ЭРСЮа УаРдШзХбЪШе дгЭЪжШЩ, ЭР ЮбЭЮТХ  ЪЮвЮаЮУЮ,  ТЬХбвХ  б 
ФагУШЬШ ЪЮЬЯЮЭХЭвРЬШ бШбвХЬл (нЬгЫпвЮаЮЬ ЬлиШ, ЪЫРТШРвгал Ш  Яа.), 
ЯЮЫмЧЮТРвХЫм ЬЮЦХв бЮЧФРвм бТЮЩ бЮСбвТХЭЭлЩ УаРдШзХбЪШЩ  вХаЬШЭРЫ. 
НЬгЫпвЮа ЭХ ШЬШвШагХв ЪРЪЮЩ¤ЫШСЮ ЪЮЭЪаХвЭлЩ УаРдШзХбЪШЩ ФШбЯЫХЩ.

     ѕбЭЮТЭлХ вХаЬШЭл:

А°БВА  ¤  бЮТЮЪгЯЭЮбвм   гЯаРТЫпойХЩ   бвагЪвгал   Ш   УаРдШзХбЪЮЩ 
ЯЫЮбЪЮбвШ. Б вЮзЪШ ЧаХЭШп ЮЪЮЭЭЮЩ  бШбвХЬл  УаРдШзХбЪРп  ЯЫЮбЪЮбвм 
пТЫпХвбп  ЮСлзЭЮЩ  ЯЫЮбЪЮбвмо,  Ш  Ъ  ЭХЩ  ЯаШЬХЭШЬл  ТбХ  ЧРЯаЮбл 
нЬгЫпвЮаР ЬЭЮУЮЮЪЮЭЭЮЩ ЯЮФФХаЦЪШ. ґЫп ЯЮТлиХЭШп бЪЮаЮбвШ УХЭХаРжШШ 
УаРдШзХбЪШе ЯаШЬШвШТЮТ ЮЭР ЮаУРЭШЧЮТРЭР бЫХФгойШЬ ЮСаРЧЮЬ:  ЪРЦФРп 
бваРЭШжР  ЯРЬпвШ  аРЧЬХаЮЬ   8єС  бЮФХаЦШв  жХЫЮХ   зШбЫЮ   бваЮЪ, 
аРбЯЮЫЮЦХЭЭле  ЯЮбЫХФЮТРвХЫмЭЮ   (ЮбвРвЮЪ   бваРЭШжл   ЯаЮЯРФРХв). 
ГЯаРТЫпойРп бвагЪвгаР бЮФХаЦШв ШЭдЮаЬРжШо Ю  аРЧЬХаРе  УаРдШзХбЪЮЩ 
ЯЫЮбЪЮбвШ,  ЮЪЭХ  ТлТЮФР,  вХЪгйХЩ  вЮзЪХ,  вШЯХ  ЫШЭШШ  Ш  ФагУШХ 
ЯРаРЬХвал. ѕФЭЮТаХЬХЭЭЮ ЬЮЦХв бгйХбвТЮТРвм ФЮ 16¤Ш аРбваЮТ.

ѕєЅѕ ІЛІѕґ° ¤ ЯапЬЮгУЮЫмЭРп ЮСЫРбвм, Т УаРЭШжРе ЪЮвЮаЮЩ ЯаЮШбеЮФШв 
ТлТЮФ УаРдШзХбЪШе ЮСкХЪвЮТ. ѕСкХЪвл ШЫШ Ше зРбвШ, ЭХ ЯЮЯРФРойШХ  Т 
ЮЪЭЮ,  ЮвбХЪРовбп.  їЮбЫХ  бЮЧФРЭШп  аРбваР   ЮЪЭЮ   бЮТЯРФРХв   б
ЯапЬЮгУЮЫмЭЮЩ   ЮСЫРбвмо,   бЮЮвТХвбвТгойХЩ    ТбХЩ    УаРдШзХбЪЮЩ 
ЯЫЮбЪЮбвШ.

ВµєГЙ°П ВѕЗє° ¤ ЯЮЭпвШХ, бЮЮвТХвбвТгойХХ вХЪгйХЬг  ЯЮЫЮЦХЭШо  ЯХаР 
УаРдЮЯЮбваЮШвХЫп.

ЧРЯаЮбл:

     НЬгЫпвЮа УаРдШзХбЪЮУЮ  ФШбЯЫХп  пТЫпХвбп  ЯаЮжХббЮЬ  б  вЮзЪШ 
ЧаХЭШп Іїѕ. НвЮв ЯаЮжХбб гЯаРТЫпХвбп ЯЮбаХФбвТЮЬ  ЮФЭЮУЮ  аХУШбваР 
(в.Х. ЮСбЫгЦШТРХв ЮФШЭ аХУШбва):

G.CSR	  ” 177600	 ; аХУШбва гЯаРТЫХЭШп УаРдШзХбЪШЬ ФШбЯЫХХЬ

     ІбХ ЧРЯаЮбл Ъ нЬгЫпвЮаг УаРдШзХбЪЮУЮ ФШбЯЫХп ШЬХов  бЫХФгойШЩ 
ТШФ:

     mov  #adr, @#g.csr  ; ЧРЭЮбШЬ РФаХб СЫЮЪР ЧРЯаЮбР
     nop		 ; Т аХУШбва ЪЮЬРЭФ
     ...
adr:			 ; гЯаРТЫпойШЩ СЫЮЪ ЧРЯаЮбР
     .blkw     x	 ; (бЮФХаЦШв ЪЮФ ЧРЯаЮбР Ш ЯРаРЬХвал)

     ѕСаРйХЭШХ Ъ  нЬгЫпвЮаг  УаРдШзХбЪЮУЮ  ФШбЯЫХп  ЮбгйХбвТЫпХвбп 
ЧРблЫЪЮЩ  РФаХбР  гЯаРТЫпойХУЮ	СЫЮЪР  Т  аХУШбва  ЪЮЬРЭФ   G.CSR.
ГЯаРТЫпойШЩ  СЫЮЪ  ФЮЫЦХЭ  аРЧЬХйРвмбп  Т  РФаХбЭЮЬ   ЯаЮбваРЭбвТХ 
ЯаЮжХббР, ТлЯЮЫЭпойХУЮ ЮСаРйХЭШХ.

     їХаХФ ЮСаРйХЭШХЬ Т гЯаРТЫпойШЩ СЫЮЪ  ЧРблЫРовбп  ЪЮФ  ЧРЯаЮбР 
(ЯХаТЮХ бЫЮТЮ СЫЮЪР) Ш ХУЮ ЯРаРЬХвал (ЪЮЮаФШЭРвл вЮзЪШ, ЪЮФ жТХвР, 
РФаХб иРСЫЮЭР ЧРЯЮЫЭХЭШп ЪЮЭвгаР Ш  в.Ф.).  АРЧЭлХ  ЪЮЬРЭФл  ШЬХов 
аРЧЭЮХ зШбЫЮ ЯРаРЬХваЮТ Ш, бЮЮвТХвбТХЭЭЮ, ШбЯЮЫмЧгов аРЧЭЮХ  зШбЫЮ 
бЫЮТ  СЫЮЪР.  µбЫШ  Т  ЬРЪаЮЪЮЬРЭФХ  ЧРЯаЮбР   ЮЯгйХЭ   ЪРЪЮЩ¤ЫШСЮ 
ЯРаРЬХва, вЮ бЮЮвТХвбвТгойХХ бЫЮТЮ гЯаРТЫпойХУЮ СЫЮЪР ЬХЭпвмбп  ЭХ 
СгФХв.
     ґЫп ЯаЮУаРЬЬ ЭР пЧлЪХ РббХЬСЫХаР ТбХ ЭХЮСеЮФШЬлХ  ЮЯаХФХЫХЭШп 
Ш ЬРЪаЮЪЮЬРЭФл бЮФХаЦРвбп Т дРЩЫРе P16MAC.MAC, WDC.MAC	Ш  GM.MAC.
ґЫп ТЪЫозХЭШп Т ЯаЮУаРЬЬг нвШе дРЩЫЮТ  аХЪЮЬХЭФгХвбп  ШбЯЮЫмЧЮТРвм 
бЫХФгойго ЯЮбЫХФЮТРвХЫмЭЮбвм ФШаХЪвШТ:

...
.nlist
.include  "p16mac.mac"
.include  "wdc.mac"
.include  "gm.mac"
.list
...

     јРЪаЮЪЮЬРЭФл "ЯЮавпв" аХУШбва  R0:  ЯЮбЫХ	ЧРЯаЮбР  ЯЮбЫХФЭШЩ
бЮФХаЦШв РФаХб гЯаРТЫпойХУЮ СЫЮЪР.
     µбЫШ ЯаШ ЮСаРСЮвЪХ ЧРЯаЮбР нЬгЫпвЮаЮЬ ЮСЭРагЦХЭР  ЮиШСЪР,  вЮ 
аХРЪжШп ЭР ЭХХ ЧРТШбШв Юв еРаРЪвХаР бРЬЮЩ ЮиШСЪШ. ЅХЪЮвЮалХ ЮиШСЪШ 
ЯаШТЮФпв Ъ вЮЬг, звЮ ЪЮЬРЭФР  ШУЭЮаШагХвбп  нЬгЫпвЮаЮЬ,  ЭРЯаШЬХа, 
ЭХбгйХбвТгойШЩ ЧРЯаЮб. ґагУШХ  ЮиШСЪШ  "ШбЯаРТЫповбп"  нЬгЫпвЮаЮЬ, 
ЭРЯаШЬХа,  аРбваЮТРп  ЮЯХаРжШп	mov  Т	аХЦШЬХ	 VM1   ЯЮФЬХЭпХвбп
аРбваЮТЮЩ ЮЯХаРжШХЩ bis. БгйХбвТгХв,ЮФЭРЪЮ, ЪЫРбб  ФШРУЭЮбвШагХЬле
ЮиШСЮЪ. µбЫШ ТбваХзРХвбп вРЪРп ЮиШСЪР,  вЮ  нЬгЫпвЮа  ЧРЭЮбШв  ЪЮФ 
ЮиШСЪШ Т ЯХаТЮХ бЫЮТЮ СЫЮЪР.

ERR.00	  ” 100000	 ; ЭХв ЯРЬпвШ ФЫп ЧРТХФХЭШп аРбваР
ERR.01	  ” 100001	 ; ЧРЯаЮб бЮФХаЦШв ЭХФЮЯгбвШЬлХ ЯРаРЬХвал
ERR.02	  ” 100002	 ; аРбва ЭХ бгйХбвТгХв (ЭХ бЮЧФРЭ)
ERR.03	  ” 100003	 ; зШбЫЮ ЮФЭЮТаХЬХЭЭЮ бгйХбвТгойШе
                         ; аРбваЮТ ЭХ ЬЮЦХв ЯаХТлиРвм 16
ERR.04	  ” 100004	 ; бЫШиЪЮЬ бЫЮЦЭлЩ ЪЮЭвга

	  8.1. АРСЮвР б аРбваРЬШ

     БЮЧФРвм ЭЮТлЩ аРбва (ЪЮФ ЧРЯаЮбР 0):

GCREA	  area,width,height,modpal

     area      ¤ РФаХб гЯаРТЫпойХУЮ СЫЮЪР;
     width     ¤ иШаШЭР аРбваР Т ЯШЪбХЫРе;
     height    ¤ ТлбЮвР аРбваР Т бваЮЪРе;
     modpal    ¤ РаУгЬХЭв, ЮЯаХФХЫпойШЩ  аХЦШЬ	(VM1,  VM2,  VM40,
		 VM41) Ш ЭЮЬХа ЯРЫШвал (pl0,  pl1,  pl2,  pl3).

     µбЫШ  ЧРЯаЮб  ТлЯЮЫЭШЫбп  СХЧ  ЮиШСЮЪ,  вЮ  ТЮ   2¤ЮЬ   бЫЮТХ 
гЯаРТЫпойХУЮ СЫЮЪР ТЮЧТаРйРХвбп ШФХЭвШдШЪРвЮа аРбваР, Р Т  3¤ХЬ  ¤ 
ШФХЭвШдШЪРвЮа  ЯЫЮбЪЮбвШ.  ёФХЭвШдШЪРвЮа  аРбваР  ШбЯЮЫмЧгХвбп   Т 
ЮбвРЫмЭле ЧРЯаЮбРе Ъ нЬгЫпвЮаг УаРдШзХбЪЮУЮ ФШбЯЫХп ФЫп  гЪРЧРЭШп, 
ЭРФ  ЪРЪШЬ  ШЬХЭЭЮ  аРбваЮЬ  СгФХв   ТлЯЮЫЭпвмбп   бЮЮвТХвбвТгойРп 
ЮЯХаРжШп.

;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
     ГФРЫШвм  ШЭдЮаЬРжШо  Ю  аРбваХ  ШЧ   нЬгЫпвЮаР   УаРдШзХбЪЮУЮ 
ФШбЯЫХп, Р Ю ХУЮ ЯЫЮбЪЮбвШ Ш бТпЧРЭЭле б ЭХЩ ТШФРе  ¤  ШЧ  ЮЪЮЭЭЮЩ 
бШбвХЬл (ЪЮФ ЧРЯаЮбР 1):

GKILL	  area,ident

     area      ¤ РФаХб гЯаРТЫпойХУЮ СЫЮЪР;
     ident     ¤ ШФХЭвШдШЪРвЮа аРбваР.

     ёбЯЮЫмЧЮТРЭШХ   ТЬХбвЮ   GKILL   ЧРЯаЮбР	ARKILL	 нЬгЫпвЮаР
ЬЭЮУЮЮЪЮЭЭЮЩ ЯЮФФХаЦЪШ  ЭХФЮЯгбвШЬЮ,  в.Ъ.  ЯаШ  нвЮЬ  бЮеаРЭпХвбп 
аХУШбваРжШп аРбваР нЬгЫпвЮаЮЬ УаРдШзХбЪЮУЮ ФШбЯЫХп.

;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
     ѕзШбвШвм аРбва (ЪЮФ ЧРЯаЮбР 2):

GCLRR	  area,ident

     area      ¤ РФаХб гЯаРТЫпойХУЮ СЫЮЪР;
     ident     ¤ ШФХЭвШдШЪРвЮа аРбваР.


          8.2. ГбвРЭЮТЪР ЯРаРЬХваЮТ

;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
     ГбвРЭЮТШвм ЪЮнддШжШХЭв бЦРвШп ЮЪагЦЭЮбвШ  ЯЮ  ЮФЭЮЩ  ШЧ  ЮбХЩ 
(ЪЮФ ЧРЯаЮбР 3):

GASP	  area,ident,xasp,yasp

     area      ¤ РФаХб гЯаРТЫпойХУЮ СЫЮЪР;
     ident     ¤ ШФХЭвШдШЪРвЮа аРбваРЦ
     xasp,yasp ¤ ЯЮЫЮЦШвХЫмЭлХ	 жХЫлХ	  зШбЫР,    ЮЯаХФХЫпойШХ
                 ЪЮнддШжШХЭв бЦРвШп.

     µбЫШ  xasp  >  yasp,  вЮ  бЦРвШХ  б  ЪЮнддШжШХЭвЮЬ  yasp/xasp
ЯаЮШбеЮФШв ЯЮ ЮбШ x, Т ЯаЮвШТЭЮЬ бЫгзРХ ¤ ЯЮ ЮбШ y б ЪЮнддШжШХЭвЮЬ
xasp/yasp.

;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
     ГбвРЭЮТШвм ЮЪЭЮ ТлТЮФР (ЪЮФ ЧРЯаЮбР 4):

GWNDW	  area,ident,x1,y1,x2,y2

     area      ¤ РФаХб гЯаРТЫпойХУЮ СЫЮЪР;
     ident     ¤ ШФХЭвШдШЪРвЮа аРбваР;
     x1,y1     ¤ ЪЮЮаФШЭРвл ЯХаТЮЩ вЮзЪШ ЫоСЮЩ ШЧ ФШРУЮЭРЫХЩ ЮЪЭР;
     x2,y2     ¤ ЪЮЮаФШЭРвл ТвЮаЮЩ вЮзЪШ.

     їЮбЫХ гбвРЭЮТЪШ ЮЪЭР ТлТЮФР УХЭХаРжШп УаРдШзХбЪШе  ЯаШЬШвШТЮТ 
ЯаЮШбеЮФШв вЮЫмЪЮ Т УаРЭШжРе ЮЪЭР. їаШ бЮЧФРЭШШ ЭЮТЮУЮ аРбваР  ХУЮ 
ЮЪЭЮ гбвРЭРТЫШТРХвбп аРТЭлЬ ТбХЩ ЯЫЮбЪЮбвШ аРбваР.
     µбЫШ ЮЪЭЮ  ТлеЮФШв  ЧР  УаРЭШжл  аРбваР,  вЮ  бЮЮвТХвбвТгойШХ 
ЯРаРЬХвал ЮЪЭР ЪЮааХЪвШаговбп.

;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
     ГбвРЭЮТШвм ЪЮФ ЮЯХаРвШТЭЮУЮ жТХвР УХЭХаРжШШ  ЯаШЬШвШТЮТ  (ЪЮФ 
ЧРЯаЮбР 5):

GFGC	  area,ident,color

     area      ¤ РФаХб гЯаРТЫпойХУЮ СЫЮЪР;
     ident     ¤ ШФХЭвШдШЪРвЮа аРбваРЦ
     color     ¤ ЪЮФ ЮЯХаРвШТЭЮУЮ жТХвР.

     єЮФ ЮЯХаРвШТЭЮУЮ жТХвР, гбвРЭРТЫШТРХЬЮУЮ Т  ФХЩбвТШвХЫмЭЮбвШ, 
Хбвм ЮбвРвЮЪ Юв ФХЫХЭШп  ЪЮФР,  гЪРЧРЭЭЮУЮ  Т  ЧРЯаЮбХ,  ЭР  зШбЫЮ 
жТХвЮТ ТШФХЮаХЦШЬР.
     НвЮв    ЪЮФ    ЯаШбТРШТРХвбп    ЯШЪбХЫг    ЯаШЬШвШТР,    ХбЫШ 
бЮЮвТХвбвТгойШЩ аРЧапФ вШЯР ЫШЭШШ гбвРЭЮТЫХЭ Т 1.

;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
     ГбвРЭЮТШвм  ЪЮФ  дЮЭЮТЮУЮ  жТХвР  УХЭХаРжШШ  ЯаШЬШвШТЮТ  (ЪЮФ 
ЧРЯаЮбР 6):

GBGC	  area,ident,color

     area      ¤ РФаХб гЯаРТЫпойХУЮ СЫЮЪР;
     ident     ¤ ШФХЭвШдШЪРвЮа аРбваРЦ
     color     ¤ ЪЮФ дЮЭЮТЮУЮ жТХвР.

     єЮФ дЮЭЮТЮУЮ жТХвР, гбвРЭРТЫШТРХЬЮУЮ Т ФХЩбвТШвХЫмЭЮбвШ, Хбвм 
ЮбвРвЮЪ Юв ФХЫХЭШп ЪЮФР, гЪРЧРЭЭЮУЮ Т  ЧРЯаЮбХ,  ЭР  зШбЫЮ  жТХвЮТ 
ТШФХЮаХЦШЬР.
     НвЮв    ЪЮФ    ЯаШбТРШТРХвбп    ЯШЪбХЫг    ЯаШЬШвШТР,    ХбЫШ 
бЮЮвТХвбвТгойШЩ аРЧапФ вШЯР ЫШЭШШ гбвРЭЮТЫХЭ Т 0.

;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
     ГбвРЭЮТШвм аРбваЮТго ЮЯХаРжШо УХЭХаРжШШ ЯаШЬШвШТЮТ  Ш  вЮзЭле 
СЫЮзЭле ЯХаХблЫЮЪ(ЪЮФ ЧРЯаЮбР 7):

GROP	  area,ident,code

     area      ¤ РФаХб гЯаРТЫпойХУЮ СЫЮЪР;
     ident     ¤ ШФХЭвШдШЪРвЮа аРбваРЦ
     code      ¤ ЪЮФ аРбваЮТЮЩ ЮЯХаРжШШ (0 ¤ MOV, 1  ¤	BIS,  2  ¤
		 XOR,  3 ¤ BIC).

     І жХЫпе нддХЪвШТЭЮбвШ ШЧ 16¤Ш ТЮЧЬЮЦЭле  ЫЮУШзХбЪШе  ЮЯХаРжШЩ 
ТлСаРЭл вЮЫмЪЮ 4, ЪРЦФРп ШЧ  ЪЮвЮале  аХРЫШЧгХвбп  ЮФЭЮЩ  ЪЮЬРЭФЮЩ 
ЯаЮжХббЮаР.
     їаШ бЮЧФРЭШШ  аРбваР  гбвРЭРТЫШТРХвбп  ЮЯХаРжШп  б  ЪЮФЮЬ  0. 
їЮбЪЮЫмЪг  ФЫп	ТШФХЮаХЦШЬР  VM1  (1  СШв  ЭР  вЮзЪг)  ЮвбгвбвТгХв
РЯЯРаРвЭРп ЯЮФФХаЦЪР ЯаЮЧаРзЭЮУЮ жТХвР, вЮ  аРбваЮТРп  ЮЯХаРжШп  б 
ЪЮФЮЬ 0 РТвЮЬРвШзХбЪШ ЯЮФЬХЭпХвбп ЮЯХаРжШХЩ б ЪЮФЮЬ 1.

;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
     ГбвРЭЮТШвм вШЯ ЫШЭШШ (ЪЮФ ЧРЯаЮбР 8):

GTYPE	  area,ident,type

     area      ¤ РФаХб гЯаРТЫпойХУЮ СЫЮЪР;
     ident     ¤ ШФХЭвШдШЪРвЮа аРбваРЦ
     type      ¤ ЬРбЪР вШЯР ЫШЭШШ (16¤Ш аРЧапФЭЮХ бЫЮТЮ).

     µбЫШ ЯШЪбХЫРЬ бЮЮвТХвбвТгов гбвРЭЮТЫХЭЭлХ аРЧапФл  ЬРбЪШ,  вЮ 
ЯШЪбХЫл ЮвЮСаРЦРовбп ЮЯХаРвШТЭлЬ жТХвЮЬ,  Р,  ХбЫШ  ЮзШйХЭЭлХ,  вЮ 
дЮЭЮТлЬ.

;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
     ГбвРЭЮТШвм ЮСаРЧХж ЧРЯЮЫЭХЭШп  ЪЮЭвгаР  гЧЮаЮЬ  (ЪЮФ  ЧРЯаЮбР 
9):

GPTRN	  area,ident,address

     area      ¤ РФаХб гЯаРТЫпойХУЮ СЫЮЪР;
     ident     ¤ ШФХЭвШдШЪРвЮа аРбваРЦ
     address   ¤ РФаХб ЮСаРЧжР.

     1¤ЮХ бЫЮТЮ ЮСаРЧжР бЮФХаЦШв ХУЮ  ФЫШЭг  Т  ЯШЪбХЫРе,  2¤ЮХ  ¤
ТлбЮвг Т бваЮЪРе, ФРЫХХ бЫХФгХв бЮСбвТХЭЭЮ ЮСаРЧХж. БваЮЪР ЮСаРЧжР 
ФЮЫЦЭР бЮФХаЦРвм жХЫЮХ зШбЫЮ бЫЮТ. µХ ФЫШЭР  ЧРФРХвбп  Т  ЯШЪбХЫРе 
ФЫп бЮТЬХбвШЬЮвШ б ЧРЯаЮбРЬШ "вЮзЭле" СЫЮзЭле ЯХаХблЫЮЪ.
     їЮЫЭлЩ аРЧЬХа ЮСаРЧжР ЭХ ФЮЫЦХЭ ЯаХТлиРвм 8єС.


          8.3. іаРдШзХбЪШХ ЯаШЬШвШТл

;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
     ѕСкпТШвм вХЪгйго вЮзЪг (ЪЮФ ЧРЯаЮбР 10):

GMOVE	  area,ident,x,y

     area      ¤ РФаХб гЯаРТЫпойХУЮ СЫЮЪР;
     ident     ¤ ШФХЭвШдШЪРвЮа аРбваРЦ
     x,y       ¤ ЪЮЮаФШЭРвл вЮзЪШ.

;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
     ГбвРЭЮТШвм ЯШЪбХЫ Т гЪРЧРЭЭЮЩ вЮзЪХ Ш  ЮСкпТШвм  ХХ  вХЪгйХХЩ 
(ЪЮФ ЧРЯаЮбР 11):

GDOT	  area,ident,x,y

     area      ¤ РФаХб гЯаРТЫпойХУЮ СЫЮЪР;
     ident     ¤ ШФХЭвШдШЪРвЮа аРбваРЦ
     x,y       ¤ ЪЮЮаФШЭРвл вЮзЪШ.

     µбЫШ ЧРФРЭЭРп вЮзЪР ЫХЦШв  ТЭХ  ЮЪЭР  ТлТЮФР,  вЮ  ЯШЪбХЫ  ЭХ 
гбвРЭРТЫШТРХвбп (Т нвЮЬ бЫгзРХ ЧРЯаЮб  GDOT  нЪТШТРЫХЭвХЭ  ЧРЯаЮбг
GMOVE).

;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
     БзШвРвм ЧЭРзХЭШХ ЯШЪбХЫР Т ЧРФРЭЭЮЩ вЮзЪХ (ЪЮФ ЧРЯаЮбР 12):

GGET	  area,ident,x,y

     area      ¤ РФаХб гЯаРТЫпойХУЮ СЫЮЪР;
     ident     ¤ ШФХЭвШдШЪРвЮа аРбваРЦ
     x,y       ¤ ЪЮЮаФШЭРвл вЮзЪШ.

     ·ЭРзХЭШХ ЯШЪбХЫР  ТЮЧТаРйРХвбп  ТЮ  3¤ХЬ  бЫЮТХ  гЯаРТЫпойХУЮ 
СЫЮЪР.	µбЫШ вЮзЪР ЫХЦШв ТЭХ ЮЪЭР, вЮ ТЮЧТаРйРХвбп ¤1.

;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
     їаЮТХбвШ  ЮваХЧЮЪ  ЯапЬЮЩ  ШЧ  вХЪгйХЩ  вЮзЪШ  Т  ЧРФРЭЭго  Ш 
ЮСкпТШвм ЯЮбЫХФЭоо вХЪгйХЩ (ЪЮФ ЧРЯаЮбР 13):

GLINE	  area,ident,x,y

     area      ¤ РФаХб гЯаРТЫпойХУЮ СЫЮЪР;
     ident     ¤ ШФХЭвШдШЪРвЮа аРбваР;
     x,y       ¤ ЪЮЮаФШЭРвл ЪЮЭХзЭЮЩ вЮзЪШ ЮваХЧЪР.

;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
     їаЮТХбвШ ФгУг ШЧ вХЪгйХЩ вЮзЪШ Т ЧРФРЭЭго ЯаЮвШТ зРбЮТЮЩ (ЪЮФ 
ЧРЯаЮбР 14) ШЫШ ЯЮ зРбЮТЮЩ (ЪЮФ ЧРЯаЮбР 15) бваХЫЪХ:

GARCC	  area,ident,xc,yc,xf,yf   (ЯаЮвШТ зРбЮТЮЩ)

GARCW	  area,ident,xc,yc,xf,yf   (ЯЮ зРбЮТЮЩ)

     area      ¤ РФаХб гЯаРТЫпойХУЮ СЫЮЪР;
     ident     ¤ ШФХЭвШдШЪРвЮа аРбваР;
     xc,yc     ¤ ЪЮЮаФШЭРвл жХЭваР ФгУШ;
     xf,yf     ¤ ЪЮЮаФШЭРвл ЪЮЭХзЭЮЩ вЮзЪШ ФгУШ.

     µбЫШ ЭРзРЫмЭРп Ш ЪЮЭХзЭРп вЮзЪШ ФгУШ бЮТЯРФРов,  вЮ  бваЮШвбп 
ЯЮЫЭРп ЮЪагЦЭЮбвм. єЮЭХзЭРп вЮзЪР ФгУШ бвРЭЮТШвбп вХЪгйХЩ.  АРФШгб 
ФгУШ ЭХ ФЮЫЦХЭ Слвм ЬХЭмиХ иХбвШ ЯШЪбХЫЮТ.

;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
     ·РЯЮЫЭШвм ЪЮЭвга б ЯаЮШЧТЮЫмЭЮЩ УаРЭШжХЩ аРЭХХ  гбвРЭЮТЫХЭЭлЬ 
гЧЮаЮЬ (ЪЮФ ЧРЯаЮбР 16):

GFILL	  area,ident,x,y

     area      ¤ РФаХб гЯаРТЫпойХУЮ СЫЮЪР;
     ident     ¤ ШФХЭвШдШЪРвЮа аРбваРЦ
     x,y       ¤ ЭРзРЫмЭРп вЮзЪР (ЧХаЭЮ) ЧРЫШТЪШ.

     ·ЭРзХЭШХ ЯШЪбХЫР Т ЧХаЭХ ЮЯаХФХЫпХв ЪРЪШХ  ЯШЪбХЫл  бзШвРовбп 
ТЭгваХЭЭЮбвмо дШУгал. »оСлХ ЯШЪбХЫл б ЮвЫШзЭлЬ ЧЭРзХЭШХЬ бзШвРовбп 
ЪЮЭвгаЮЬ. їаШЭШЬРХвбп,  звЮ  ТЭгваХЭЭЮбвм  дШУгал  4¤е¤бТпЧЭРп,  Р 
ЪЮЭвга, бЮЮвТХвбвТХЭЭЮ, 8¤Ш¤бТпЧЭлЩ.
     ґРЭЭлЩ ЧРЯаЮб ЭХ ЬХЭпХв вХЪгйго вЮзЪг.

          8.4. ВЮзЭлХ СЫЮзЭлХ ЯХаХблЫЪШ

     ґРЭЭлХ ЧРЯаЮбл ЮбгйХбвТЫпов ЯХаХблЫЪг СЫЮЪЮТ б  вЮзЭЮбвмо  ФЮ 
ЯШЪбХЫР Ш  ЭРЧТРЭл  вРЪ,  ФРСл  ЮвЫШзРвм  Ше  Юв  Слбвале  СЫЮзЭле 
ЯХаХблЫЮЪ нЬгЫпвЮаР ЬЭЮУЮЮЪЮЭЭЮЩ ЯЮФФХаЦЪШ.
     ВЮзЭлХ СЫЮзЭлХ ЯХаХблЫЪШ ЭХ ЬХЭпов вХЪгйго вЮзЪг аРбваР.  ѕЭШ 
ЯЮФТХаУРовбп ЮвбХзХЭШо Т ЮЪЭХ ТлТЮФР.

;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
     їХаХблЫЪР СЫЮЪР ШЧ ЯРЬпвШ ЯЮЫмЧЮТРвХЫп Т аРбва  (ЪЮФ  ЧРЯаЮбР 
17):

GRVR	  area,ident,x,y,address

     x,y       ¤ ЪЮЮаФШЭРвл ЭРзРЫмЭЮЩ (ЫХТЮЩ ТХаеЭХЩ) вЮзЪШ ТлТЮФР
                 СЫЮЪР Т аРбваХ;
     address   ¤ ТШавгРЫмЭлЩ РФаХб СЫЮЪР.

     1¤ЮХ бЫЮТЮ СЫЮЪР бЮФХаЦШв ФЫШЭг бваЮЪШ СЫЮЪР Т ЯШЪбХЫРе, 2¤ЮХ 
¤ ТлбЮвг СЫЮЪР Т бваЮЪРе, ФРЫХХ бЫХФгХв бЮСбвТХЭЭЮ СЫЮЪ.
     єРЦФРп бваЮЪР СЫЮЪР ЧРЯЮЫЭпХвбп  б  ЭгЫХТЮУЮ  СШвР   ЭгЫХТЮУЮ 
бЫЮТР бваЮЪШ Ш ЧРЭШЬРХв жХЫЮХ зШбЫЮ  бЫЮТ.   ВРЪШЬ  ЮСаРЧЮЬ,  ХбЫШ 
ФЫШЭР  бваЮЪШ  ЭХ  ЪаРвЭР  жХЫЮЬг  зШбЫг  бЫЮТ  "ЫШиЭШХ"   ЯШЪбХЫл 
ЯЮбЫХФЭХУЮ бЫЮТР ЪРЦФЮЩ бваЮЪШ ЯаЮЯРФРов.
     їЮЫЭлЩ аРЧЬХа СЫЮЪР ЭХ ФЮЫЦХЭ ЯаХТлиРвм 8єС.

;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
     їХаХблЫЪР СЫЮЪР ШЧ аРбваР Т ЯРЬпвм ЯЮЫмЧЮТРвХЫп (ЪЮФ  ЧРЯаЮбР 
18):

GVRR	  area,ident,x1,y1,x2,y2,address

     area      ¤ РФаХб гЯаРТЫпойХУЮ СЫЮЪР;
     ident     ¤ ШФХЭвШдШЪРвЮа аРбваРЦ
     x1,y1     ¤ ЪЮЮаФШЭРвл 1¤ЮЩ вЮзЪШ	ФШРУЮЭРЫШ
                 ЯапЬЮгУЮЫмЭШЪР, ЮУаРЭШзШТРойХУЮ СЫЮЪ;
     x2,y2     ¤ ЪЮЮаФШЭРвл 2¤ЮЩ вЮзЪШ;
     address   ¤ ТШавгРЫмЭлЩ РФаХб СЫЮЪР.

     І 1¤ЮХ бЫЮТЮ СЫЮЪР ЧРЭЮбШвбп ФЫШЭР бваЮЪШ Т ЯШЪбХЫРе, ТЮ 2¤ЮХ 
ТлбЮвР СЫЮЪР Т бваЮЪРе, ФРЫХХ  бЫХФгов  бваЮЪШ  СЫЮЪР,  ЪРЦФРп  ШЧ 
ЪЮвЮале ЧРЭШЬРХв жХЫЮХ зШбЫЮ бЫЮТ. "»ШиЭШХ"  ЯШЪбХЫл  Т  ЯЮбЫХФЭХЬ 
бЫЮТХ ЪРЦФЮЩ бваЮЪШ ЯаЮЯРФРов.
     АРЧЬХа ЯХаХблЫРХЬЮУЮ СЫЮЪР ЭХ ФЮЫЦХЭ ЯаХТлиРвм 8єС.

;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
     їХаХблЫЪР СЫЮЪР аРбва¤аРбва (ЪЮФ ЧРЯаЮбР 19):

GVRVR	  area,ident,x1,y1,x2,y2,x,y

     area      ¤ РФаХб гЯаРТЫпойХУЮ СЫЮЪР;
     ident     ¤ ШФХЭвШдШЪРвЮа аРбваРЦ
     x1,y1     ¤ ЪЮЮаФШЭРвл 1¤ЮЩ вЮзЪШ ФШРУЮЭРЫШ
                 ЯХаХблЫРХЬЮУЮ СЫЮЪР;
     x2,y2     ¤ ЪЮЮаФШЭРвл 2¤ЮЩ вЮзЪШ;
     x,y       ¤ ЭРзРЫмЭРп вЮзЪР СЫЮЪР¤аХЧгЫмвРвР.

     єЮЮаФШЭРвл  ФШРУЮЭРЫШ  СЫЮЪР  ЮЯаХФХЫпов   ХУЮ   аРЧЬХал,   Р 
ЯЮбЫХФЮТРвХЫмЭЮбвм, Т ЪЮвЮаЮЩ ЮЭШ ЧРФРЭл, ¤ЭРЯаРТЫХЭШХ  ЯХаХблЫЪШ. 
їаРТШЫмЭЮХ ЧРФРЭШХ ЭРЯаРТЫХЭШп ЯХаХблЫЪШ ЪаРЩЭХ бгйХбвТХЭЭЮ,  ХбЫШ 
ШбеЮФЭлЩ СЫЮЪ Ш аХЧгЫмвРв ЯХаХблЫЪШ ЯХаХбХЪРовбп.

     їаШЬХал:


	  (X,Y)
	     ¤¤¤¤¤¤¤¤¤¤¤¤Ў
	    Ґ		 Ґ
	    Ґ		 Ґ(X1,Y1)
	    Ґ аХЧгЫмвРв  ©¤¤¤¤¤¤¤¤¤¤Ў  \ ЭРЯаРТЫХЭШХ ЯХаХблЫЪШ
	    Ґ ЯХаХблЫЪШ  Ґ	    Ґ
	    Ґ		 Ґ ШбеЮФЭлЩ Ґ
	    Ґ		 Ґ СЫЮЪ     Ґ
	    Ј¤¤¤¤¤¤¤¤¤¤¦¤ў	    Ґ
		       Ґ	    Ґ
		       Ґ	    Ґ
		       Ј¤¤¤¤¤¤¤¤¤¤¤¤ў
				 (X2,Y2)


				     (X2,Y2)
			 ¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤Ў
	  ¤¤¤¤¤¤¤¤¤¤¤¤¤¤ЁЎ		Ґ
	 Ґ		 Ґ  ШбеЮФЭлЩ	Ґ    / ЭРЯаРТЫХЭШХ
	 Ґ   аХЧгЫмвРв	 Ґ  СЫЮЪ	Ґ      ЯХаХблЫЪШ
	 Ґ   ЯХаХблЫЪШ	 Ґ		Ґ
	 Ґ		 ©¤¤¤¤¤¤¤¤¤¤¤¤¤¤ў
	 Ј¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ў(X1,Y1)
       (X,Y)


                                                                              